(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{128:function(e,t,r){"use strict";var o={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},n=(r(459),r(45)),l=r(43),c=r.n(l),v=r(670),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{dark:""}},[404===e.error.statusCode?r("h1",[e._v("\n    "+e._s(e.pageNotFound)+"\n  ")]):r("h1",[e._v("\n    "+e._s(e.otherError)+"\n  ")]),e._v(" "),r("NuxtLink",{attrs:{to:"/"}},[e._v("\n    Home page\n  ")])],1)}),[],!1,null,"35e10596",null);t.a=component.exports;c()(component,{VApp:v.a})},287:function(e,t,r){"use strict";r.r(t);r(8),r(10),r(7),r(4),r(11),r(9),r(12);var o=r(1),n=r(80),l=r(288),c=r(289),v=r(291),d=r(292),f=r(293);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var m={name:"Controller",components:{File:l.default,Scene:c.default,Animation:d.default,Environment:v.default,Camera:f.default},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(n.c)(["showController"])),data:function(){return{tab:null}},methods:{}},y=m,w=(r(612),r(45)),_=r(43),x=r.n(_),C=r(241),k=r(686),O=r(678),V=r(687),j=r(682),A=r(409),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{attrs:{value:e.showController,right:"",app:"",fixed:"",width:"500"}},[r("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",{key:"File"},[r("v-icon",[e._v("mdi-folder")])],1),e._v(" "),r("v-tab",{key:"Scene"},[r("v-icon",[e._v("mdi-file-tree")])],1),e._v(" "),r("v-tab",{key:"Camera"},[r("v-icon",[e._v("mdi-camera")])],1),e._v(" "),r("v-tab",{key:"Environment"},[r("v-icon",[e._v("mdi-earth")])],1),e._v(" "),r("v-tab",{key:"Animation"},[r("v-icon",[e._v("mdi-motion-play")])],1)],1),e._v(" "),r("v-tabs-items",{staticClass:"full-height-tab",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",{key:"File"},[r("File")],1),e._v(" "),r("v-tab-item",{key:"Scene"},[r("Scene")],1),e._v(" "),r("v-tab-item",{key:"Camera"},[r("Camera")],1),e._v(" "),r("v-tab-item",{key:"Environment"},[r("Environment")],1),e._v(" "),r("v-tab-item",{key:"Animation"},[r("Animation")],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;x()(component,{File:r(288).default,Scene:r(289).default,Camera:r(293).default,Environment:r(291).default,Animation:r(292).default}),x()(component,{VIcon:C.a,VNavigationDrawer:k.a,VTab:O.a,VTabItem:V.a,VTabs:j.a,VTabsItems:A.a})},288:function(e,t,r){"use strict";r.r(t);r(8),r(10),r(7),r(11),r(12);var o=r(40),n=r(1),l=(r(140),r(32),r(31),r(30),r(90),r(4),r(38),r(58),r(9),r(80)),c=r(17),v=(r(465),r(302)),d=r(131),f=r.n(d);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={name:"File",computed:m(m(m({},Object(l.c)(["showController"])),Object(l.c)("repo",["tags","files"])),{},{tagNames:function(){return this.tags.map((function(e){return e.name}))},fileNames:function(){return this.files.map((function(e){return e.name}))}}),data:function(){return{fileSource:"Examples",fileLoading:!1,fileExample:"viewobjects.json",fileInput:null,fileURL:"",animations:[],repoOwner:"BlockResearchGroup",repoName:"Phoenix",pat:localStorage.getItem("pat"),folder:"data",tag:"",file:""}},methods:m(m({},Object(l.b)("repo",["getTags","getFiles","getFile"])),{},{load:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,o,content,n,l,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.fileLoading=!0,t.t0=e.fileSource,t.next="URL"===t.t0?5:"Local"===t.t0?11:"Examples"===t.t0?20:"Repo"===t.t0?27:32;break;case 5:return r=e.fileURL,o=r.toLowerCase().split(".").pop(),t.next=9,e.fetch_file(r,o);case 9:return content=t.sent,t.abrupt("break",32);case 11:return n=function(e){return new Promise((function(t,r){var o=new FileReader;o.readAsDataURL(e),o.onload=function(){return t(o.result)},o.onerror=function(e){return r(e)}}))},t.next=14,n(e.fileInput);case 14:return r=t.sent,o=e.fileInput.name.toLowerCase().split(".").pop(),t.next=18,e.fetch_file(r,o);case 18:return content=t.sent,t.abrupt("break",32);case 20:return r=e.fileExample,window.location.host.includes("localhost")||(r="/COMPAS-WebView/"+r),o=r.toLowerCase().split(".").pop(),t.next=25,e.fetch_file(r,o);case 25:return content=t.sent,t.abrupt("break",32);case 27:return o=e.file.toLowerCase().split(".").pop(),t.next=30,e.getFile({owner:e.repoOwner,repo:e.repoName,pat:e.pat,path:e.folder+"/"+e.file,ref:e.tag});case 30:return content=t.sent,t.abrupt("break",32);case 32:t.t1=o,t.next="gltf"===t.t1||"glb"===t.t1?35:"json"===t.t1?42:45;break;case 35:return t.next=37,three.loader.parseAsync(content,"/");case 37:return l=t.sent,three.objectsGroup.add(l.scene),three.mixer=new c.AnimationMixer(l.scene),three.animations=l.animations.map((function(e){return{name:e.name,action:three.mixer.clipAction(e)}})),t.abrupt("break",46);case 42:return console.log("json",content),Array.isArray(content)?(content.forEach((function(e){var t=Object(v.default)(e.data,e.settings);three.objectsGroup.add(t)})),three.adaptAttributesColorToTheme(e.$vuetify.theme.dark)):(d=Object(v.default)(content))&&three.objectsGroup.add(d),t.abrupt("break",46);case 45:throw new Error("Unsupported file type");case 46:three.controls.fitToSphere(three.objectsGroup,!0),t.next=54;break;case 49:t.prev=49,t.t2=t.catch(0),console.error(t.t2),e.fileLoading=!1,alert(t.t2);case 54:e.$root.$emit("updateTree"),e.fileLoading=!1;case 56:case"end":return t.stop()}}),t,null,[[0,49]])})))()},fetch_file:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("json"!==t){r.next=6;break}return r.next=3,f.a.get(e);case 3:case 8:return r.abrupt("return",r.sent.data);case 6:return r.next=8,f.a.get(e,{responseType:"arraybuffer"});case 9:case"end":return r.stop()}}),r)})))()},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTags({owner:e.repoOwner,repo:e.repoName,pat:e.pat});case 2:case"end":return t.stop()}}),t)})))()}}),watch:{pat:function(e){localStorage.setItem("pat",e),this.fetch()},tag:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFiles({owner:e.repoOwner,repo:e.repoName,pat:e.pat,path:e.folder,ref:e.tag});case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.repoName&&e.repoOwner&&e.pat&&e.fetch();case 1:case"end":return t.stop()}}),t)})))()}},w=r(45),_=r(43),x=r.n(_),C=r(296),k=r(671),O=r(672),V=r(278),j=r(188),A=r(86),P=r(673),S=r(674),T=r(675),F=r(245),E=r(111),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",[r("v-list-item",[r("v-list-item-content",[r("v-radio-group",{model:{value:e.fileSource,callback:function(t){e.fileSource=t},expression:"fileSource"}},[r("v-radio",{attrs:{value:"Repo",label:"Repo"}}),e._v(" "),r("v-radio",{attrs:{value:"Local",label:"Local"}}),e._v(" "),r("v-radio",{attrs:{value:"URL",label:"URL"}}),e._v(" "),r("v-radio",{attrs:{value:"Examples",label:"Examples"}})],1)],1)],1),e._v(" "),"Examples"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-select",{attrs:{label:"Examples",items:["DamagedHelmet.gltf","DragonAttenuation.glb","InterpolationTest.glb","tubemesh.json","viewobjects.json"]},model:{value:e.fileExample,callback:function(t){e.fileExample=t},expression:"fileExample"}})],1)],1):e._e(),e._v(" "),"Repo"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Owner"},model:{value:e.repoOwner,callback:function(t){e.repoOwner=t},expression:"repoOwner"}}),e._v(" "),r("v-text-field",{attrs:{label:"Repo"},model:{value:e.repoName,callback:function(t){e.repoName=t},expression:"repoName"}}),e._v(" "),r("v-text-field",{attrs:{label:"PAT"},model:{value:e.pat,callback:function(t){e.pat=t},expression:"pat"}}),e._v(" "),e.pat?r("v-text-field",{attrs:{label:"Folder"},model:{value:e.folder,callback:function(t){e.folder=t},expression:"folder"}}):e._e(),e._v(" "),e.pat?r("v-select",{attrs:{label:"Version",items:e.tagNames},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}}):e._e(),e._v(" "),e.tag?r("v-select",{attrs:{label:"File",items:e.fileNames},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"Local"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-file-input",{attrs:{"truncate-length":"15",label:"Local File"},model:{value:e.fileInput,callback:function(t){e.fileInput=t},expression:"fileInput"}})],1)],1):e._e(),e._v(" "),"URL"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-text-field",{attrs:{label:"URL"},model:{value:e.fileURL,callback:function(t){e.fileURL=t},expression:"fileURL"}})],1)],1):e._e(),e._v(" "),r("v-list-item",[r("v-list-item-content",[r("v-btn",{attrs:{loading:e.fileLoading},on:{click:e.load}},[e._v("Load")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;x()(component,{VBtn:C.a,VCol:k.a,VFileInput:O.a,VList:V.a,VListItem:j.a,VListItemContent:A.a,VRadio:P.a,VRadioGroup:S.a,VRow:T.a,VSelect:F.a,VTextField:E.a})},289:function(e,t,r){"use strict";r.r(t);r(38),r(58),r(31),r(32),r(7),r(4),r(9),r(60);var o={name:"Scene",components:{Property:r(290).default},created:function(){var e=this;this.$root.$on("updateTree",(function(){e.updateTree()})),this.$root.$on("showAttributes",(function(t){e.showVertices=t.includes("vertices"),e.showEdges=t.includes("edges"),e.showFaces=t.includes("faces")}))},computed:{selected:function(){return three?three.selected:null},halfHeight:function(){return(document.body.clientHeight-48)/2},mode:function(){if(three)return three.mode}},data:function(){return{tree:[],opened:[],icons:{Group:"mdi-folder-multiple",Mesh:"mdi-vector-triangle",PerspectiveCamera:"mdi-camera",PointLight:"mdi-lightbulb",AmbientLight:"mdi-lightbulb",AxesHelper:"mdi-axis",GridHelper:"mdi-axis",LineSegments:"mdi-vector-line",Points:"mdi-square-medium-outline"},activated:[],attributeMode:"vertices",showVertices:!1,showEdges:!1,showFaces:!0}},watch:{selected:function(){this.updateActivated()},attributeMode:function(e){three.attributeMode=e},showVertices:function(e){this.showAttributes("vertices",e)},showEdges:function(e){this.showAttributes("edges",e)},showFaces:function(e){this.showAttributes("faces",e)}},mounted:function(){this.updateTree(),this.updateActivated()},methods:{showAttributes:function(e,t){three.objectsGroup.traverse((function(r){r.isAttributes&&r.name===e&&(r.visible=t)})),this.updateTree()},updateTree:function(){if(!three)return[];var e=function e(t){return t.children.filter((function(e){return"Gimbal"!==e.name})).map((function(t){return{name:t.name||t.guid?t.name||t.guid:"(".concat(t.type,")"),id:t.id,guid:t.guid,type:t.type,visible:t.visible,children:e(t)}}))};"Scene"===three.mode?this.tree=e(three.objectsGroup):"Attributes"===three.mode&&(this.tree=e(three.editingObj))},toggleVisibility:function(e){e.visible=!e.visible,this.getObject(e.id).visible=e.visible},activate:function(e){this.activated=[e.id],this.showProperty(e)},updateActivated:function(){if(this.selected){this.activated=[this.selected.id];var path=this.findPath(this.activated[0]);this.opened=path,this.scrollTo(this.activated[0]);var e=this.getItem(this.activated[0]);console.log("updateActivated",this.activated[0]),console.log("item",e),e&&this.showProperty(e)}else this.activated=[]},onOpen:function(e){console.log(e)},remove:function(e){if(confirm("Are you sure you want to delete ".concat(e.name,"?"))){var t=this.getObject(e.id);t.parent.remove(t),this.updateTree()}},getObject:function(e){var t={};return three.scene.traverse((function(r){r.id==e&&(t=r)})),t},getItem:function(e){var t={};return function e(t,r,o){t.id==r?o.item=t:t.children&&t.children.forEach((function(t){e(t,r,o)}))}({children:this.tree},e,t),t.item},select:function(e){if("Attributes"!==this.mode&&0!==e.length&&(!this.selected||this.selected.id!==e[0])){var t=this.getObject(e[0]);three.select(t)}},findPath:function(e){for(var path=[],t=this.getObject(e);t.parent;)path.push(t.parent.id),t=t.parent;return path.pop(),path.reverse()},isSelected:function(e){var t=this.getObject(e.id);return three.selected===t},focus:function(e){var t=this.getObject(e.id);three.focus(t),console.log(t)},showProperty:function(e){var t=this.getObject(e.id),r=[{key:"name",value:t.name},{key:"type",value:t.type}];t.guid&&r.push({key:"guid",value:t.guid}),t.settings&&r.push({key:"settings",value:"{...}",settings:t.settings}),t.data&&r.push({key:"data",value:"{...}",data:t.data}),this.$root.$emit("showProperty",{id:e.id,properties:r})},scrollTo:function(e){var t=this;setTimeout((function(){var label=t.$refs["label_".concat(e)];label&&label.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}),200)},editAttributes:function(e){var t=this.getObject(e.id);three.editAttributes(t),this.$root.$emit("showAttributes",["vertices","edges","faces"])},exitEditAttributes:function(){three.exitEditAttributes(),this.$root.$emit("showAttributes",["faces"])}}},n=(r(586),r(45)),l=r(43),c=r.n(l),v=r(296),d=r(282),f=r(92),h=r(685),m=r(281),y=r(241),w=r(673),_=r(674),x=r(675),C=r(676),k=r(684),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",{attrs:{outlined:""}},[r("v-card-title",[r("v-row",{staticClass:"ma-1"},[e._v("\n        "+e._s(e.mode)+"\n        "),r("v-spacer"),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.showVertices?"primary":null},on:{click:function(t){e.showVertices=!e.showVertices}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-square-medium-outline ")])],1),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.showEdges?"primary":null},on:{click:function(t){e.showEdges=!e.showEdges}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-vector-line ")])],1),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.showFaces?"primary":null},on:{click:function(t){e.showFaces=!e.showFaces}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-vector-triangle ")])],1)],1)],1),e._v(" "),r("v-card",{staticClass:"scroll",attrs:{height:e.halfHeight,flat:""}},[r("v-treeview",{attrs:{items:e.tree,dense:"",hoverable:"",active:e.activated,open:e.opened},on:{"update:open":e.onOpen,"update:active":e.select},scopedSlots:e._u([{key:"prepend",fn:function(t){var o=t.item;return[r("v-icon",[e._v("\n            "+e._s(e.icons[o.type])+"\n          ")])]}},{key:"label",fn:function(t){var o=t.item;return[r("span",{ref:"label_"+o.id,staticClass:"pointer",on:{click:function(t){return t.preventDefault(),e.activate(o)}}},[e._v("\n            "+e._s(o.name)+"\n          ")])]}},{key:"append",fn:function(t){var o=t.item;return[r("v-icon",{on:{click:function(t){return e.toggleVisibility(o)}}},[e._v("\n            "+e._s(o.visible?"mdi-eye":"mdi-eye-off")+"\n          ")]),e._v(" "),"Default"!==o.name&&"GLTFs"!==o.name?r("v-icon",{on:{click:function(t){return e.remove(o)}}},[e._v("\n            mdi-delete\n          ")]):e._e(),e._v(" "),"Default"!==o.name&&"GLTFs"!==o.name?r("v-icon",{on:{click:function(t){return t.preventDefault(),e.focus(o)}}},[e._v("\n            mdi-crosshairs\n          ")]):e._e(),e._v(" "),e.getObject(o.id).data?r("v-icon",{on:{click:function(t){return e.editAttributes(o)}}},[e._v("\n            mdi-graph\n          ")]):e._e()]}}])})],1)],1),e._v(" "),"Attributes"===e.mode?r("div",[r("v-radio-group",{model:{value:e.attributeMode,callback:function(t){e.attributeMode=t},expression:"attributeMode"}},[r("v-radio",{attrs:{value:"vertices",label:"vertices"}}),e._v(" "),r("v-radio",{attrs:{value:"edges",label:"edges"}}),e._v(" "),r("v-radio",{attrs:{value:"faces",label:"faces"}})],1),e._v(" "),r("v-btn",{staticClass:"my-2",on:{click:function(t){return e.exitEditAttributes()}}},[e._v("Exit Edit Attributes")])],1):e._e(),e._v(" "),r("v-divider",{staticClass:"my-5"}),e._v(" "),r("Property")],1)}),[],!1,null,"5c67133d",null);t.default=component.exports;c()(component,{Property:r(290).default}),c()(component,{VBtn:v.a,VCard:d.a,VCardTitle:f.b,VContainer:h.a,VDivider:m.a,VIcon:y.a,VRadio:w.a,VRadioGroup:_.a,VRow:x.a,VSpacer:C.a,VTreeview:k.a})},290:function(e,t,r){"use strict";r.r(t);r(60);var o={name:"Property",created:function(){var e=this;this.$root.$on("showProperty",(function(t){var r=t.id,o=t.properties;e.items=o,e.id=r}))},data:function(){return{show:!1,headers:[{text:"Key",value:"key"},{text:"Value",value:"value"}],items:[],id:null,showColorPicker:!1,color:null,threeColorObj:null}},methods:{changeColor:function(e){var t=this;this.threeColorObj=e,this.showColorPicker=!0,setTimeout((function(){t.color.rgba={r:255*e.r,g:255*e.g,b:255*e.b,a:1}}),50)},confirmColor:function(){this.showColorPicker=!1,this.threeColorObj.setRGB(this.color.rgba.r/255,this.color.rgba.g/255,this.color.rgba.b/255),this.threeColorObj=null},cancelColor:function(){this.showColorPicker=!1,this.threeColorObj=null},showData:function(data){this.$root.$emit("showData",data)}}},n=(r(562),r(45)),l=r(43),c=r.n(l),v=r(296),d=r(282),f=r(92),h=r(681),m=r(680),y=r(241),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{outlined:""}},[r("v-card-title",[e._v("Property")]),e._v(" "),r("v-data-table",{attrs:{headers:e.headers,items:e.items,"hide-default-header":!0,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.value",fn:function(t){var o=t.item;return[r("span",[e._v("\n        "+e._s(o.value)+"\n      ")]),e._v(" "),o.color?r("v-icon",{on:{click:function(t){return e.changeColor(o.color)}}},[e._v("mdi-palette\n      ")]):e._e(),e._v(" "),o.data?r("v-icon",{on:{click:function(t){return e.showData(o.data)}}},[e._v("mdi-database-eye\n      ")]):e._e(),e._v(" "),o.settings?r("v-icon",{on:{click:function(t){return e.$root.$emit("showSettings",{id:e.id,settings:o.settings})}}},[e._v("mdi-cog\n      ")]):e._e(),e._v(" "),e.showColorPicker&&o.color?r("div",[r("v-color-picker",{attrs:{"dot-size":"19","swatches-max-height":"200"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:e.confirmColor}},[e._v("Apply")]),e._v(" "),r("v-btn",{on:{click:e.cancelColor}},[e._v("Cancel")])],1):e._e()]}}])})],1)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VBtn:v.a,VCard:d.a,VCardTitle:f.b,VColorPicker:h.a,VDataTable:m.a,VIcon:y.a})},291:function(e,t,r){"use strict";r.r(t);var o=r(17),n={name:"Environment",data:function(){return{useHdri:!1,upAxis:"Z",viewMode:"Normal",backgroundColor:15658734,activated:[],gimbal:!1,grid:!0}},watch:{upAxis:function(e){"Y"===e?(three.camera.up.set(0,1,0),three.controls.updateCameraUp()):(three.camera.up.set(0,0,1),three.controls.updateCameraUp())},backgroundColor:function(e){var t=1973790===e;three.scene.background.setHex(e),this.$vuetify.theme.dark=t,three.adaptAttributesColorToTheme(t)},viewMode:function(e){three.objectsGroup.traverse((function(t){var r;t.isAttributes&&t.material&&((r=t).material&&(void 0===r.material._opacity&&(r.material._opacity=r.material.opacity),void 0===r.material._transparent&&(r.material._transparent=r.material.transparent)),"Normal"===e?(t.material.transparent=t.material._transparent,t.material.opacity=t.material._opacity):"Ghosted"===e?(t.material.transparent=!0,t.material.opacity=.3):"Wireframe"===e||("NormalWireframe"===e?(t.material.transparent=t.material._transparent,t.material.opacity=t.material._opacity):"GhostedWireframe"===e&&(t.material.transparent=!0,t.material.opacity=.3)))}));this.$root.$emit("showAttributes",{Normal:["faces"],Ghosted:["faces"],Wireframe:["edges"],NormalWireframe:["edges","faces"],GhostedWireframe:["edges","faces"]}[e])},gimbal:function(e){e?(three.enableTransformControls=!0,three.selected&&three.attachGimbal(three.selected)):(three.enableTransformControls=!1,three.transformControls.detach())},grid:function(e){three.grid.visible=three.axes.visible=!!e}},methods:{showHdri:function(){this.useHdri?(three.scene.background=three.hdri,three.scene.environment=three.hdri):(three.scene.background=new o.Color(1973790),three.scene.environment=null)}}},l=r(45),c=r(43),v=r.n(c),d=r(671),f=r(685),h=r(673),m=r(674),y=r(675),w=r(677),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-5"},[r("v-row",[r("v-col",[r("v-radio-group",{attrs:{label:"Theme"},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}},[r("v-radio",{attrs:{label:"Dark",value:1973790}}),e._v(" "),r("v-radio",{attrs:{label:"Light",value:15658734}})],1)],1),e._v(" "),r("v-col",[r("v-radio-group",{attrs:{label:"Up Axis"},model:{value:e.upAxis,callback:function(t){e.upAxis=t},expression:"upAxis"}},[r("v-radio",{attrs:{label:"Y",value:"Y"}}),e._v(" "),r("v-radio",{attrs:{label:"Z",value:"Z"}})],1)],1),e._v(" "),r("v-col",[r("v-radio-group",{attrs:{label:"View Mode"},model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}},[r("v-radio",{attrs:{label:"Normal",value:"Normal"}}),e._v(" "),r("v-radio",{attrs:{label:"Ghosted",value:"Ghosted"}}),e._v(" "),r("v-radio",{attrs:{label:"Wireframe",value:"Wireframe"}}),e._v(" "),r("v-radio",{attrs:{label:"Normal+Wireframe",value:"NormalWireframe"}}),e._v(" "),r("v-radio",{attrs:{label:"Ghosted+Wireframe",value:"GhostedWireframe"}})],1)],1)],1),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-switch",{attrs:{label:"Grid"},model:{value:e.grid,callback:function(t){e.grid=t},expression:"grid"}}),e._v(" "),r("v-switch",{attrs:{label:"Gimbal"},model:{value:e.gimbal,callback:function(t){e.gimbal=t},expression:"gimbal"}})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VCol:d.a,VContainer:f.a,VRadio:h.a,VRadioGroup:m.a,VRow:y.a,VSwitch:w.a})},292:function(e,t,r){"use strict";r.r(t);var o={name:"Animation",computed:{animations:function(){return window.three&&window.three.animations?window.three.animations:[]}}},n=r(45),l=r(43),c=r.n(l),v=r(241),d=r(278),f=r(188),h=r(86),component=Object(n.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",[0==e.animations.length?r("v-list-item",[r("v-list-item-content",[e._v(" No animations available. ")])],1):e._e(),e._v(" "),e._l(e.animations,(function(t,i){return r("v-list-item",{key:i},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.name))]),e._v(" "),r("div",[r("v-icon",{attrs:{color:"green"},on:{click:function(e){return t.action.play()}}},[e._v("mdi-play")]),e._v(" "),r("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.action.stop()}}},[e._v("mdi-stop")])],1)],1)],1)}))],2)}),[],!1,null,null,null);t.default=component.exports;c()(component,{VIcon:v.a,VList:d.a,VListItem:f.a,VListItemContent:h.a,VListItemTitle:h.b})},293:function(e,t,r){"use strict";r.r(t);r(23),r(275);var o=r(17),n=r(233),l={name:"Camera",data:function(){return{cameraType:"Perspective",fov:null,position:new o.Vector3,target:new o.Vector3}},mounted:function(){this.fov=three.perspectiveCamera.fov,this.trackCamera()},watch:{fov:function(e){three.perspectiveCamera.fov=e,three.perspectiveCamera.updateProjectionMatrix()}},methods:{switchCamera:function(e,t){e!==this.cameraType&&("Perspective"===e?three.camera=three.perspectiveCamera:"Orthographic"===e&&(three.camera=three.orthographicCamera),three.camera.add(three.pointLight),three.renderPass.camera=three.camera,three.outlinePass.renderCamera=three.camera,three.controls.dispose(),three.controls=new n.a(three.camera,three.renderer.domElement),this.trackCamera(),this.cameraType=e),three.objectsGroup.children.length&&three.controls.fitToSphere(three.objectsGroup),three.controls.mouseButtons.left=t?n.a.ACTION.NONE:n.a.ACTION.ROTATE},trackCamera:function(){this.getPosition(),this.getTarget(),three.controls.addEventListener("update",this.getPosition),three.controls.addEventListener("update",this.getTarget)},getPosition:function(){three.controls.getPosition(this.position),this.position.x=Number(this.position.x.toFixed(3)),this.position.y=Number(this.position.y.toFixed(3)),this.position.z=Number(this.position.z.toFixed(3))},setPosition:function(){three.controls.setPosition(Number(this.position.x),Number(this.position.y),Number(this.position.z))},getTarget:function(){three.controls.getTarget(this.target),this.target.x=Number(this.target.x.toFixed(3)),this.target.y=Number(this.target.y.toFixed(3)),this.target.z=Number(this.target.z.toFixed(3))},setTarget:function(){three.controls.setLookAt(Number(this.position.x),Number(this.position.y),Number(this.position.z),Number(this.target.x),Number(this.target.y),Number(this.target.z))},setView:function(view){console.log(view);var e=new o.Box3;e.setFromObject(three.objectsGroup),e.getCenter(this.target);var t=new o.Vector3;switch(three.objectsGroup.children.length>0?e.getSize(t):t.set(2,2,2),view){case"top":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y,this.target.z+t.z);break;case"bottom":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y,this.target.z-t.z);break;case"front":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y+t.y,this.target.z);break;case"back":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y-t.y,this.target.z);break;case"left":this.switchCamera("Orthographic",!0),this.position.set(this.target.x-t.x,this.target.y,this.target.z);break;case"right":this.switchCamera("Orthographic",!0),this.position.set(this.target.x+t.x,this.target.y,this.target.z);break;case"perspective":this.switchCamera("Perspective")}this.setTarget()}}},c=r(45),v=r(43),d=r.n(v),f=r(296),h=r(671),m=r(685),y=r(673),w=r(674),_=r(675),x=r(401),C=r(111),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-5"},[r("v-radio-group",{attrs:{value:e.cameraType,label:"Camera Type"},on:{change:e.switchCamera}},[r("v-radio",{attrs:{label:"Perspective",value:"Perspective"}}),e._v(" "),r("v-radio",{attrs:{label:"Orthographic",value:"Orthographic"}})],1),e._v(" "),"Perspective"===e.cameraType?r("v-slider",{attrs:{label:"FOV",max:"180",min:"1","thumb-label":""},model:{value:e.fov,callback:function(t){e.fov=t},expression:"fov"}}):e._e(),e._v(" "),r("span",[e._v("Position")]),e._v(" "),r("v-row",[r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"x",outlined:""},on:{change:e.setPosition},model:{value:e.position.x,callback:function(t){e.$set(e.position,"x",t)},expression:"position.x"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"y",outlined:""},on:{change:e.setPosition},model:{value:e.position.y,callback:function(t){e.$set(e.position,"y",t)},expression:"position.y"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"z",outlined:""},on:{change:e.setPosition},model:{value:e.position.z,callback:function(t){e.$set(e.position,"z",t)},expression:"position.z"}})],1)],1),e._v(" "),r("span",[e._v("Target")]),e._v(" "),r("v-row",[r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"x",outlined:""},on:{change:e.setTarget},model:{value:e.target.x,callback:function(t){e.$set(e.target,"x",t)},expression:"target.x"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"y",outlined:""},on:{change:e.setTarget},model:{value:e.target.y,callback:function(t){e.$set(e.target,"y",t)},expression:"target.y"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"z",outlined:""},on:{change:e.setTarget},model:{value:e.target.z,callback:function(t){e.$set(e.target,"z",t)},expression:"target.z"}})],1)],1),e._v(" "),r("v-row",[r("v-col",[e._v("\n      Views\n      "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("top")}}},[e._v("Top")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("bottom")}}},[e._v("Bottom")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("front")}}},[e._v("Front")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("back")}}},[e._v("Back")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("left")}}},[e._v("Left")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("right")}}},[e._v("Right")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("perspective")}}},[e._v("Perspective")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:f.a,VCol:h.a,VContainer:m.a,VRadio:y.a,VRadioGroup:w.a,VRow:_.a,VSlider:x.a,VTextField:C.a})},294:function(e,t,r){"use strict";r.r(t);var o=r(24),n=r(22),l=(r(60),r(210),r(28),{name:"DataForm",created:function(){var e=this;this.$root.$on("showData",(function(data){console.log(data),e.overlay=!0,e.mapData(data)}))},data:function(){return{overlay:!1,dataView:[]}},methods:{changeColor:function(e){var t=this;this.threeColorObj=e,this.showColorPicker=!0,setTimeout((function(){t.color.rgba={r:255*e.r,g:255*e.g,b:255*e.b,a:1}}),50)},confirmColor:function(){this.showColorPicker=!1,this.threeColorObj.setRGB(this.color.rgba.r/255,this.color.rgba.g/255,this.color.rgba.b/255),this.threeColorObj=null},cancelColor:function(){this.showColorPicker=!1,this.threeColorObj=null},mapData:function(data){var e=0;this.dataView=function t(data){for(var r=[],l=0,c=Object.entries(data);l<c.length;l++){var v=Object(n.a)(c[l],2),d=v[0],f=v[1];Array.isArray(f)?r.push({id:e++,name:"".concat(d," : []"),children:t(f)}):"object"===Object(o.a)(f)&&f?r.push({id:e++,name:"".concat(d," : {}"),children:t(f)}):r.push({id:e++,name:"".concat(d," : ").concat(f)})}return r}(data)}}}),c=(r(629),r(45)),v=r(43),d=r.n(v),f=r(296),h=r(282),m=r(283),y=r(684),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.overlay}},[r("v-card",{staticClass:"scroll",attrs:{light:"",flat:"","max-height":"800","min-height":"100","min-width":"500"}},[r("v-treeview",{attrs:{items:e.dataView}})],1),e._v(" "),r("v-btn",{staticClass:"mt-5",attrs:{light:""},on:{click:function(t){e.overlay=!1}}},[e._v("close")])],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:f.a,VCard:h.a,VOverlay:m.a,VTreeview:y.a})},295:function(e,t,r){"use strict";r.r(t);var o=r(22),n=(r(210),r(28),{name:"SettingsForm",created:function(){var e=this;this.$root.$on("showSettings",(function(t){var r=t.id,o=t.settings;e.show=!0,e.items=e.mapSettings(o),e.id=r,e.settings=o}))},data:function(){return{show:!1,headers:[{text:"Key",value:"key"},{text:"Value",value:"value"}],id:null,settings:{},items:[],editingColorKey:null,editingColorValue:null}},methods:{mapSettings:function(e){for(var t=this,r=[],n=function(){var e=Object(o.a)(c[l],2),n=e[0],v=e[1];"compas.colors/Color"===v.dtype?r.push({key:n,color:"rgb(".concat(255*v.value.red,", ").concat(255*v.value.green,", ").concat(255*v.value.blue,")"),setColor:function(){t.editingColorKey=n}}):r.push({key:n,value:JSON.stringify(v)})},l=0,c=Object.entries(e);l<c.length;l++)n();return r},confirmColor:function(){var e=this,t=this.settings[this.editingColorKey].value;t.red=this.editingColorValue.rgba.r/255,t.green=this.editingColorValue.rgba.g/255,t.blue=this.editingColorValue.rgba.b/255,this.editingColorKey=null,this.items=this.mapSettings(this.settings),console.log(this.id),three.objectsGroup.traverse((function(t){t.id===e.id&&t.updateFromSettings()}))}}}),l=(r(631),r(45)),c=r(43),v=r.n(c),d=r(296),f=r(282),h=r(92),m=r(681),y=r(680),w=r(283),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.show}},[r("v-card",{attrs:{"min-width":"500"}},[r("v-card-title",[e._v("Settings")]),e._v(" "),r("v-data-table",{attrs:{headers:e.headers,items:e.items,"hide-default-header":!0,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.value",fn:function(t){var o=t.item;return[r("span",[e._v("\n        "+e._s(o.value)+"\n      ")]),e._v(" "),o.color?r("v-btn",{attrs:{color:o.color},on:{click:o.setColor}}):e._e(),e._v(" "),e.editingColorKey===o.key?r("v-card",{staticClass:"my-2"},[r("v-color-picker",{attrs:{"dot-size":"19","swatches-max-height":"200"},model:{value:e.editingColorValue,callback:function(t){e.editingColorValue=t},expression:"editingColorValue"}}),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:e.confirmColor}},[e._v("Apply")]),e._v(" "),r("v-btn",{on:{click:function(t){e.editingColorKey=null}}},[e._v("Cancel")])],1):e._e()]}}])}),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:function(t){e.show=!1}}},[e._v("Close")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:d.a,VCard:f.a,VCardActions:h.a,VCardTitle:h.b,VColorPicker:m.a,VDataTable:y.a,VOverlay:w.a})},302:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var o=r(22),n=(r(31),r(8),r(210),r(32),r(338),r(4),r(342),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(359),r(360),r(361),r(362),r(363),r(364),r(368),r(369),r(370),r(141),r(142),r(9),r(270),r(17)),l="\nattribute int selected;\nflat varying int vSelected;\n\nvoid main() {\n\n    vSelected = selected;\n\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    if (selected == 1) {\n        gl_PointSize = 20.0;\n    }else{\n        gl_PointSize = 10.0;\n    }\n\n    gl_Position = projectionMatrix * mvPosition;\n\n}\n",c="\nuniform vec3 color;\nflat varying int vSelected;\n\nvoid main() {\n\n    if (vSelected == 1) {\n        gl_FragColor = vec4( 1.0, 1.0, 0.0, 1.0 );\n    }else{\n        gl_FragColor = vec4( color, 1.0 );\n    }\n\n    if ( pow(gl_PointCoord.x - 0.5, 2.0) + pow(gl_PointCoord.y - 0.5, 2.0) > 0.25 ) discard;\n\n}\n";function v(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("toThree",data,e),"compas.datastructures/Mesh"===data.dtype){var t=new n.Group;t.type=data.dtype,t.guid=data.guid,t.name=data.value.name,t.settings=e;for(var r=[],v=[],d={},f={},h={},m={},y=new n.Vector3,w=new n.Vector3,_=new n.Vector3,x=new n.Vector3,C=new n.Vector3,k=new n.Vector3,O=new n.Vector3,V=new n.Vector3,j=new n.Vector3,A=new n.Vector3,P=function(a,b){var e=[a+","+b],t=[b+","+a];d[e]||d[t]||(d[e]=[a,b])},S=0,T=Object.keys(data.value.vertex),i=0;i<T.length;i++)m[i]=T[i];for(var F=0,E=Object.entries(data.value.face);F<E.length;F++){var R=Object(o.a)(E[F],2),L=R[0],N=R[1];if(4===N.length){y.copy(data.value.vertex[N[0]]),w.copy(data.value.vertex[N[1]]),_.copy(data.value.vertex[N[2]]),x.copy(data.value.vertex[N[3]]),C.subVectors(_,w),k.subVectors(y,w),C.cross(k),O.subVectors(x,_),V.subVectors(y,_),O.cross(V),C.add(O),C.normalize();for(var G=0;G<6;G++)v.push(C.clone());j.subVectors(y,_),A.subVectors(w,x),j.lengthSq()<A.lengthSq()?(r.push(data.value.vertex[N[0]]),r.push(data.value.vertex[N[1]]),r.push(data.value.vertex[N[2]]),r.push(data.value.vertex[N[2]]),r.push(data.value.vertex[N[3]]),r.push(data.value.vertex[N[0]])):(r.push(data.value.vertex[N[3]]),r.push(data.value.vertex[N[0]]),r.push(data.value.vertex[N[1]]),r.push(data.value.vertex[N[1]]),r.push(data.value.vertex[N[2]]),r.push(data.value.vertex[N[3]])),P(N[0],N[1]),P(N[1],N[2]),P(N[2],N[3]),P(N[3],N[0]),h[L]=[S,S+1],f[S]=L,f[S+1]=L,S+=2}else if(3===N.length){r.push(data.value.vertex[N[0]]),r.push(data.value.vertex[N[1]]),r.push(data.value.vertex[N[2]]),y.copy(data.value.vertex[N[0]]),w.copy(data.value.vertex[N[1]]),_.copy(data.value.vertex[N[2]]),C.subVectors(_,w),k.subVectors(y,w),C.cross(k),C.normalize();for(var $=0;$<3;$++)v.push(C.clone());P(N[0],N[1]),P(N[1],N[2]),P(N[2],N[0]),h[L]=[S],f[S]=L,S+=1}}var z=e["color.faces"];z=z?new n.Color(z.value.red,z.value.green,z.value.blue):new n.Color(37586),r=r.map((function(e){return[e.x,e.y,e.z]})),v=v.map((function(e){return[e.x,e.y,e.z]}));var B=r.map((function(e){return[z.r,z.g,z.b]})),M=new n.BufferAttribute(new Float32Array(r.flat()),3),D=new n.BufferAttribute(new Float32Array(v.flat()),3),I=new n.BufferAttribute(new Float32Array(B.flat()),3),U=new n.BufferGeometry;U.setAttribute("position",M),U.setAttribute("normal",D),U.setAttribute("color",I);var H=new n.MeshStandardMaterial({side:n.DoubleSide,color:16777215,flatShading:!1,vertexColors:!0}),W=new n.Mesh(U,H);W.name="faces",W.isAttributes=!0,W.lastSelected=null,W.setColor=function(e,g,b){for(var t=0;t<W.geometry.attributes.color.count;t++)W.geometry.attributes.color.setXYZ(t,e,g,b);W.geometry.attributes.color.needsUpdate=!0},W.selectAttribute=function(e){var t=function(e,t,g,b){var r=f[e];h[r].forEach((function(e){for(var r=0;r<3;r++)W.geometry.attributes.color.array[9*e+3*r]=t,W.geometry.attributes.color.array[9*e+3*r+1]=g,W.geometry.attributes.color.array[9*e+3*r+2]=b}))};null!==W.lastSelected&&t(W.lastSelected,z.r,z.g,z.b),e>=0?(t(e,1,1,0),W.lastSelected=e):W.lastSelected=null,W.geometry.attributes.color.needsUpdate=!0;var r=[{key:"key",value:f[e]},{key:"data",value:"facedata",data:data.value.facedata[f[e]]}];return console.log(data),r},t.add(W);var X=e["color.edges"];X=X?new n.Color(X.value.red,X.value.green,X.value.blue):new n.Color(16777215);for(var Y=[],Z=0,K=0,J=Object.entries(d);K<J.length;K++){var Q=Object(o.a)(J[K],2),line=(Q[0],Q[1]);Y.push(data.value.vertex[line[0]],data.value.vertex[line[1]]),Z+=(new n.Vector3).subVectors(data.value.vertex[line[0]],data.value.vertex[line[1]]).length()}Z/=Y.length,t.raycastThreshold=Z/5,Y=Y.map((function(e){return[e.x,e.y,e.z]}));var ee=Y.map((function(e){return[X.r,X.g,X.b]})),te=new n.BufferGeometry;te.setAttribute("position",new n.BufferAttribute(new Float32Array(Y.flat()),3)),te.setAttribute("color",new n.BufferAttribute(new Float32Array(ee.flat()),3));var re=new n.LineBasicMaterial({color:16777215,vertexColors:!0}),oe=new n.LineSegments(te,re);oe.name="edges",oe.visible=!1,oe.isAttributes=!0,oe.lastSelected=null,oe.setColor=function(e,g,b){for(var t=0;t<oe.geometry.attributes.color.array.length;t+=3)oe.geometry.attributes.color.array[t]=e,oe.geometry.attributes.color.array[t+1]=g,oe.geometry.attributes.color.array[t+2]=b;oe.geometry.attributes.color.needsUpdate=!0},oe.invertColor=function(e){16777215!==X.getHex()||e?0===X.getHex()&&e&&X.set(16777215):X.set(0),oe.setColor(X.r,X.g,X.b)},oe.selectAttribute=function(e){var t=function(e,t,g,b){oe.geometry.attributes.color.array[3*e]=t,oe.geometry.attributes.color.array[3*e+1]=g,oe.geometry.attributes.color.array[3*e+2]=b,oe.geometry.attributes.color.array[3*e+3]=t,oe.geometry.attributes.color.array[3*e+4]=g,oe.geometry.attributes.color.array[3*e+5]=b};null!==oe.lastSelected&&t(oe.lastSelected,X.r,X.g,X.b),e>=0?(t(e,1,1,0),oe.lastSelected=e):oe.lastSelected=null,oe.geometry.attributes.color.needsUpdate=!0},t.add(oe),r=[];var ae=[];B=[];for(var ne=0,ie=Object.entries(data.value.vertex);ne<ie.length;ne++){var se=Object(o.a)(ie[ne],2),le=(se[0],se[1]);r.push([le.x,le.y,le.z]),ae.push(0),B.push([1,0,0])}M=new n.BufferAttribute(new Float32Array(r.flat()),3),ae=new n.Int32BufferAttribute(ae,1);var ce=new n.BufferGeometry;ce.setAttribute("position",M),ce.setAttribute("selected",ae);var ue=e["color.vertices"];ue=ue?new n.Color(ue.value.red,ue.value.green,ue.value.blue):new n.Color(16777215);var ve=new n.ShaderMaterial({uniforms:{color:{value:ue}},vertexShader:l,fragmentShader:c}),de=new n.Points(ce,ve);return de.name="vertices",de.isAttributes=!0,de.lastSelected=null,de.setColor=function(e,g,b){ue.setRGB(e,g,b),de.geometry.attributes.selected.needsUpdate=!0},de.invertColor=function(e){16777215!==ue.getHex()||e?0===ue.getHex()&&e&&ue.set(16777215):ue.set(0),de.geometry.attributes.selected.needsUpdate=!0},de.selectAttribute=function(e){return de.geometry.attributes.selected.array.fill(0),e>=0?(de.geometry.attributes.selected.array[e]=1,de.lastSelected=e):de.lastSelected=null,de.geometry.attributes.selected.needsUpdate=!0,[{key:"key",value:m[e]},{key:"data",value:"vertexdata",data:data.value.vertex[m[e]]}]},de.visible=!1,t.updateFromSettings=function(){e["color.faces"]&&W.setColor(e["color.faces"].value.red,e["color.faces"].value.green,e["color.faces"].value.blue),e["color.edges"]&&oe.setColor(e["color.edges"].value.red,e["color.edges"].value.green,e["color.edges"].value.blue),e["color.vertices"]&&de.setColor(e["color.vertices"].value.red,e["color.vertices"].value.green,e["color.vertices"].value.blue)},t.add(de),t.data=data,t}}},336:function(e,t,r){var content=r(460);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("dc093880",content,!0,{sourceMap:!1})},390:function(e,t,r){var content=r(563);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("6da3b560",content,!0,{sourceMap:!1})},391:function(e,t,r){var content=r(587);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("9a730d12",content,!0,{sourceMap:!1})},393:function(e,t,r){var content=r(613);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("ef9be580",content,!0,{sourceMap:!1})},394:function(e,t,r){var content=r(630);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("8a071b80",content,!0,{sourceMap:!1})},395:function(e,t,r){var content=r(632);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("308ebe20",content,!0,{sourceMap:!1})},408:function(e,t,r){"use strict";r(8),r(10),r(7),r(4),r(11),r(9),r(12);var o=r(1),n=r(287),l=r(80),c=r(294),v=r(295);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var f={name:"DefaultLayout",components:{Controller:n.default,DataForm:c.default,SettingsForm:v.default},computed:Object(l.c)(["showController"]),data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[{icon:"mdi-apps",title:"Welcome",to:"/"},{icon:"mdi-chart-bubble",title:"Inspire",to:"/inspire"}],miniVariant:!1,title:"COMPAS WebView"}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(l.b)(["toggleController"]))},h=f,m=r(45),y=r(43),w=r.n(y),_=r(670),x=r(683),C=r(296),k=r(241),O=r(679),V=r(676),j=r(402),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{dark:""}},[r("v-app-bar",{attrs:{fixed:"",app:""}},[r("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleController.apply(null,arguments)}}},[r("v-icon",[e._v("mdi-menu")])],1)],1),e._v(" "),r("v-main",[r("Nuxt")],1),e._v(" "),r("Controller"),e._v(" "),r("DataForm"),e._v(" "),r("SettingsForm")],1)}),[],!1,null,null,null);t.a=component.exports;w()(component,{Controller:r(287).default,DataForm:r(294).default,SettingsForm:r(295).default}),w()(component,{VApp:_.a,VAppBar:x.a,VBtn:C.a,VIcon:k.a,VMain:O.a,VSpacer:V.a,VToolbarTitle:j.a})},415:function(e,t,r){r(416),e.exports=r(417)},459:function(e,t,r){"use strict";r(336)},460:function(e,t,r){var o=r(14)(!1);o.push([e.i,"h1[data-v-35e10596]{font-size:20px}",""]),e.exports=o},465:function(e,t,r){"use strict";r.r(t);r(7),r(4),r(338),r(342),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(359),r(360),r(361),r(362),r(363),r(364),r(368),r(369),r(370),r(32),r(270);var o=r(17);function n(e,t,r){return e.filter((function(e){return e.angleTo(t)<r*Math.PI/180})).reduce((function(a,b){return a.clone().add(b)})).normalize()}t.default=function(e){if(!this.getAttribute("normal")){e=e||15;var t=this.index,r=this.getAttribute("position"),l=new o.Vector3,c=new o.Vector3,v=new o.Vector3,d=new o.Vector3,f=new o.Vector3,h=new o.Vector3,m=new o.Vector3,y=new o.Vector3;if(this.index){for(var w=new o.BufferAttribute(new Float32Array(3*this.index.count),3),_=new o.BufferAttribute(new Float32Array(3*w.count),3),x=Array(r.count).fill().map((function(){return[]})),C=[],i=0,k=t.count;i<k;i+=3){var O=t.getX(i+0),V=t.getX(i+1),j=t.getX(i+2);l.fromBufferAttribute(r,O),c.fromBufferAttribute(r,V),v.fromBufferAttribute(r,j),w.setXYZ(i+0,l.x,l.y,l.z),w.setXYZ(i+1,c.x,c.y,c.z),w.setXYZ(i+2,v.x,v.y,v.z),l.fromBufferAttribute(r,O),c.fromBufferAttribute(r,V),v.fromBufferAttribute(r,j),m.subVectors(v,c),y.subVectors(l,c),m.cross(y),m.normalize(),x[O].push(m.clone()),x[V].push(m.clone()),x[j].push(m.clone()),C.push({vA:O,vB:V,vC:j,nA:i,nB:i+1,nC:i+2,normal:m.clone()})}C.map((function(t){d=n(x[t.vA],t.normal,e),f=n(x[t.vB],t.normal,e),h=n(x[t.vC],t.normal,e),_.setXYZ(t.nA,d.x,d.y,d.z),_.setXYZ(t.nB,f.x,f.y,f.z),_.setXYZ(t.nC,h.x,h.y,h.z)}));var A=new o.BufferGeometry;return A.setAttribute("position",w),A.setAttribute("normal",_),A}}}},562:function(e,t,r){"use strict";r(390)},563:function(e,t,r){var o=r(14)(!1);o.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=o},586:function(e,t,r){"use strict";r(391)},587:function(e,t,r){var o=r(14)(!1);o.push([e.i,".pointer[data-v-5c67133d]{cursor:pointer}.scroll[data-v-5c67133d]{overflow-y:scroll}",""]),e.exports=o},612:function(e,t,r){"use strict";r(393)},613:function(e,t,r){var o=r(14)(!1);o.push([e.i,".v-tabs-items.full-height-tab .v-window-item{height:calc(100vh - 48px);overflow-y:auto}",""]),e.exports=o},629:function(e,t,r){"use strict";r(394)},630:function(e,t,r){var o=r(14)(!1);o.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=o},631:function(e,t,r){"use strict";r(395)},632:function(e,t,r){var o=r(14)(!1);o.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=o},639:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return n})),r.d(t,"actions",(function(){return l}));var o=function(){return{showController:!0}},n={setShowController:function(e,t){e.showController=t}},l={toggleController:function(e){var t=e.state;(0,e.commit)("setShowController",!t.showController),console.log(t.showController)}}},640:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"state",(function(){return l})),r.d(t,"mutations",(function(){return c})),r.d(t,"actions",(function(){return v}));var o=r(40),n=(r(4),r(70),r(140),r(248)),l=function(){return{tags:[],files:[]}},c={setTags:function(e,t){e.tags=t},setFiles:function(e,t){e.files=t}},v={getTags:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var o,l,c,v,d,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,l=t.owner,c=t.repo,v=t.pat,d=new n.a({auth:v}),r.next=5,d.request("GET /repos/{owner}/{repo}/tags",{owner:l,repo:c});case 5:f=r.sent,o("setTags",f.data),console.log(f);case 8:case"end":return r.stop()}}),r)})))()},getFiles:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var o,l,c,v,path,d,f,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.commit,l=t.owner,c=t.repo,v=t.pat,path=t.path,d=t.ref,f=new n.a({auth:v}),r.next=5,f.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:l,repo:c,path:path,ref:d});case 5:h=r.sent,o("setFiles",h.data),console.log(h);case 8:case"end":return r.stop()}}),r)})))()},getFile:function(t,r){return Object(o.a)(regeneratorRuntime.mark((function o(){var l,c,v,path,d,f,h;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t.commit,l=r.owner,c=r.repo,v=r.pat,path=r.path,d=r.ref,f=new n.a({auth:v}),o.next=5,f.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:l,repo:c,path:path,ref:d});case 5:return h=o.sent,console.log(h),o.abrupt("return",e.from(h.data.content,"base64").toString("utf8"));case 8:case"end":return o.stop()}}),o)})))()}}}.call(this,r(396).Buffer)},654:function(e,t){},655:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return o})),r.d(t,"mutations",(function(){return n})),r.d(t,"actions",(function(){return l}));r(32),r(31);var o=function(){return{tree:[]}},n={setTree:function(e,t){e.tree=t}},l={refreshTree:function(e,t){var r=e.commit,o=function e(t){return t.children.map((function(t){return{name:t.name?t.name:"(".concat(t.type,")"),id:t.id,type:t.type,children:e(t)}}))}(t);r("setTree",o)}}}},[[415,10,2,11]]]);