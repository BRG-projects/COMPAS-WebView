(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{129:function(e,t,r){"use strict";var n={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(r(458),r(47)),c=r(44),l=r.n(c),f=r(673),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{dark:""}},[404===e.error.statusCode?r("h1",[e._v("\n    "+e._s(e.pageNotFound)+"\n  ")]):r("h1",[e._v("\n    "+e._s(e.otherError)+"\n  ")]),e._v(" "),r("NuxtLink",{attrs:{to:"/"}},[e._v("\n    Home page\n  ")])],1)}),[],!1,null,"35e10596",null);t.a=component.exports;l()(component,{VApp:f.a})},287:function(e,t,r){"use strict";r.r(t);r(6),r(10),r(7),r(3),r(11),r(8),r(12);var n=r(1),o=r(36),c=r(288),l=r(289),f=r(291),v=r(292),d=r(293);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var h={name:"Controller",components:{File:c.default,Scene:l.default,Animation:v.default,Environment:f.default,Camera:d.default},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.d)(["showController"])),data:function(){return{tab:null}},methods:{}},y=h,w=(r(601),r(47)),x=r(44),O=r.n(x),j=r(241),_=r(689),k=r(681),V=r(690),C=r(685),A=r(409),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{attrs:{value:e.showController,right:"",app:"",fixed:"",width:"500"}},[r("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",{key:"File"},[r("v-icon",[e._v("mdi-folder")])],1),e._v(" "),r("v-tab",{key:"Scene"},[r("v-icon",[e._v("mdi-file-tree")])],1),e._v(" "),r("v-tab",{key:"Camera"},[r("v-icon",[e._v("mdi-camera")])],1),e._v(" "),r("v-tab",{key:"Environment"},[r("v-icon",[e._v("mdi-earth")])],1),e._v(" "),r("v-tab",{key:"Animation"},[r("v-icon",[e._v("mdi-motion-play")])],1)],1),e._v(" "),r("v-tabs-items",{staticClass:"full-height-tab",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",{key:"File"},[r("File")],1),e._v(" "),r("v-tab-item",{key:"Scene"},[r("Scene")],1),e._v(" "),r("v-tab-item",{key:"Camera"},[r("Camera")],1),e._v(" "),r("v-tab-item",{key:"Environment"},[r("Environment")],1),e._v(" "),r("v-tab-item",{key:"Animation"},[r("Animation")],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;O()(component,{File:r(288).default,Scene:r(289).default,Camera:r(293).default,Environment:r(291).default,Animation:r(292).default}),O()(component,{VIcon:j.a,VNavigationDrawer:_.a,VTab:k.a,VTabItem:V.a,VTabs:C.a,VTabsItems:A.a})},288:function(e,t,r){"use strict";r.r(t);r(6),r(10),r(7),r(11),r(12);var n=r(23),o=r(1),c=(r(102),r(35),r(32),r(30),r(85),r(3),r(40),r(61),r(8),r(36)),l=r(17),f=(r(464),r(302)),v=r(132),d=r.n(v);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={name:"File",computed:h(h(h({},Object(c.d)(["showController"])),Object(c.d)("repo",["tags","files"])),{},{tagNames:function(){return this.tags.map((function(e){return e.name}))},fileNames:function(){return this.files.map((function(e){return e.name}))}}),data:function(){return{fileSource:"Examples",fileLoading:!1,fileExample:"viewobjects.json",fileInput:null,fileURL:"",animations:[],repoOwner:"BlockResearchGroup",repoName:"Phoenix",pat:localStorage.getItem("pat"),folder:"data",tag:"",file:""}},methods:h(h(h({},Object(c.b)("repo",["getTags","getFiles","getFile"])),Object(c.b)("scene",["updateTree"])),{},{load:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,content,o,c,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.fileLoading=!0,t.t0=e.fileSource,t.next="URL"===t.t0?5:"Local"===t.t0?11:"Examples"===t.t0?20:"Repo"===t.t0?27:32;break;case 5:return r=e.fileURL,n=r.toLowerCase().split(".").pop(),t.next=9,e.fetch_file(r,n);case 9:return content=t.sent,t.abrupt("break",32);case 11:return o=function(e){return new Promise((function(t,r){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return r(e)}}))},t.next=14,o(e.fileInput);case 14:return r=t.sent,n=e.fileInput.name.toLowerCase().split(".").pop(),t.next=18,e.fetch_file(r,n);case 18:return content=t.sent,t.abrupt("break",32);case 20:return r=e.fileExample,window.location.host.includes("localhost")||(r="/COMPAS-WebView/"+r),n=r.toLowerCase().split(".").pop(),t.next=25,e.fetch_file(r,n);case 25:return content=t.sent,t.abrupt("break",32);case 27:return n=e.file.toLowerCase().split(".").pop(),t.next=30,e.getFile({owner:e.repoOwner,repo:e.repoName,pat:e.pat,path:e.folder+"/"+e.file,ref:e.tag});case 30:return content=t.sent,t.abrupt("break",32);case 32:t.t1=n,t.next="gltf"===t.t1||"glb"===t.t1?35:"json"===t.t1?42:45;break;case 35:return t.next=37,three.loader.parseAsync(content,"/");case 37:return c=t.sent,three.objectsGroup.add(c.scene),three.mixer=new l.AnimationMixer(c.scene),three.animations=c.animations.map((function(e){return{name:e.name,action:three.mixer.clipAction(e)}})),t.abrupt("break",46);case 42:return console.log("json",content),Array.isArray(content)?(content.forEach((function(e){var t=Object(f.default)(e.data,e.settings);three.objectsGroup.add(t)})),three.adaptAttributesColorToTheme(e.$vuetify.theme.dark)):(v=Object(f.default)(content))&&three.objectsGroup.add(v),t.abrupt("break",46);case 45:throw new Error("Unsupported file type");case 46:three.controls.fitToSphere(three.objectsGroup,!0),t.next=54;break;case 49:t.prev=49,t.t2=t.catch(0),console.error(t.t2),e.fileLoading=!1,alert(t.t2);case 54:e.updateTree(),e.fileLoading=!1;case 56:case"end":return t.stop()}}),t,null,[[0,49]])})))()},fetch_file:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("json"!==t){r.next=6;break}return r.next=3,d.a.get(e);case 3:case 8:return r.abrupt("return",r.sent.data);case 6:return r.next=8,d.a.get(e,{responseType:"arraybuffer"});case 9:case"end":return r.stop()}}),r)})))()},fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTags({owner:e.repoOwner,repo:e.repoName,pat:e.pat});case 2:case"end":return t.stop()}}),t)})))()}}),watch:{pat:function(e){localStorage.setItem("pat",e),this.fetch()},tag:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFiles({owner:e.repoOwner,repo:e.repoName,pat:e.pat,path:e.folder,ref:e.tag});case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.repoName&&e.repoOwner&&e.pat&&e.fetch();case 1:case"end":return t.stop()}}),t)})))()}},w=r(47),x=r(44),O=r.n(x),j=r(296),_=r(674),k=r(675),V=r(278),C=r(188),A=r(87),P=r(676),S=r(677),R=r(678),E=r(245),T=r(112),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",[r("v-list-item",[r("v-list-item-content",[r("v-radio-group",{model:{value:e.fileSource,callback:function(t){e.fileSource=t},expression:"fileSource"}},[r("v-radio",{attrs:{value:"Repo",label:"Repo"}}),e._v(" "),r("v-radio",{attrs:{value:"Local",label:"Local"}}),e._v(" "),r("v-radio",{attrs:{value:"URL",label:"URL"}}),e._v(" "),r("v-radio",{attrs:{value:"Examples",label:"Examples"}})],1)],1)],1),e._v(" "),"Examples"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-select",{attrs:{label:"Examples",items:["DamagedHelmet.gltf","DragonAttenuation.glb","InterpolationTest.glb","tubemesh.json","viewobjects.json"]},model:{value:e.fileExample,callback:function(t){e.fileExample=t},expression:"fileExample"}})],1)],1):e._e(),e._v(" "),"Repo"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Owner"},model:{value:e.repoOwner,callback:function(t){e.repoOwner=t},expression:"repoOwner"}}),e._v(" "),r("v-text-field",{attrs:{label:"Repo"},model:{value:e.repoName,callback:function(t){e.repoName=t},expression:"repoName"}}),e._v(" "),r("v-text-field",{attrs:{label:"PAT"},model:{value:e.pat,callback:function(t){e.pat=t},expression:"pat"}}),e._v(" "),e.pat?r("v-text-field",{attrs:{label:"Folder"},model:{value:e.folder,callback:function(t){e.folder=t},expression:"folder"}}):e._e(),e._v(" "),e.pat?r("v-select",{attrs:{label:"Version",items:e.tagNames},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}}):e._e(),e._v(" "),e.tag?r("v-select",{attrs:{label:"File",items:e.fileNames},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"Local"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-file-input",{attrs:{"truncate-length":"15",label:"Local File"},model:{value:e.fileInput,callback:function(t){e.fileInput=t},expression:"fileInput"}})],1)],1):e._e(),e._v(" "),"URL"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-text-field",{attrs:{label:"URL"},model:{value:e.fileURL,callback:function(t){e.fileURL=t},expression:"fileURL"}})],1)],1):e._e(),e._v(" "),r("v-list-item",[r("v-list-item-content",[r("v-btn",{attrs:{loading:e.fileLoading},on:{click:e.load}},[e._v("Load")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;O()(component,{VBtn:j.a,VCol:_.a,VFileInput:k.a,VList:V.a,VListItem:C.a,VListItemContent:A.a,VRadio:P.a,VRadioGroup:S.a,VRow:R.a,VSelect:E.a,VTextField:T.a})},289:function(e,t,r){"use strict";r.r(t);r(6),r(10),r(7),r(3),r(11),r(8),r(12),r(45),r(60),r(51),r(30),r(68),r(70),r(56);var n=r(27),o=r(23),c=r(1),l=(r(32),r(65),r(102),r(36));function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"Scene",components:{Property:r(290).default},computed:m(m({},Object(l.d)("scene",["mode","attributeMode","tree","selected","attributesVisibility"])),{},{halfHeight:function(){return(document.body.clientHeight-48)/2}}),data:function(){return{opened:[],icons:{Group:"mdi-folder-multiple",Mesh:"mdi-vector-triangle",PerspectiveCamera:"mdi-camera",PointLight:"mdi-lightbulb",AmbientLight:"mdi-lightbulb",AxesHelper:"mdi-axis",GridHelper:"mdi-axis",LineSegments:"mdi-vector-line",Points:"mdi-square-medium-outline"}}},mounted:function(){this.updateTree(),this.$root.$on("highlight",this.highlight)},methods:m(m({},Object(l.b)("scene",["select","updateTree","toggleVisibility","toggleAttributesVisibility","getObject","removeObject","startEditAttributes","exitEditAttributes","switchAttributeMode"])),{},{highlight:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var path;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.selected){t.next=6;break}return t.next=3,e.findPath(e.selected);case 3:path=t.sent,e.opened=path,e.scrollTo(e.selected);case 6:case"end":return t.stop()}}),t)})))()},remove:function(e){confirm("Are you sure you want to delete ".concat(e.name,"?"))&&this.removeObject(e.id)},findPath:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={},function t(r,path){if(void 0===path&&(path=[]),!o.found)if(path=Object(n.a)(path),r.id===e)o.found=path;else if(r.children){path.push(r.id);var c,l=f(r.children);try{for(l.s();!(c=l.n()).done;){t(c.value,path)}}catch(e){l.e(e)}finally{l.f()}}}({children:t.tree}),r.abrupt("return",o.found);case 4:case"end":return r.stop()}}),r)})))()},focus:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getObject(e.id);case 2:n=r.sent,three.focus(n);case 4:case"end":return r.stop()}}),r)})))()},scrollTo:function(e){var t=this;setTimeout((function(){var label=t.$refs["label_".concat(e)];label&&label.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}),200)}})},y=(r(573),r(47)),w=r(44),x=r.n(w),O=r(296),j=r(282),_=r(92),k=r(688),V=r(281),C=r(241),A=r(676),P=r(677),S=r(678),R=r(679),E=r(687),component=Object(y.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",{attrs:{outlined:""}},[r("v-card-title",[r("v-row",{staticClass:"ma-1"},[e._v("\n        "+e._s(e.mode)+"\n        "),r("v-spacer"),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.attributesVisibility.vertices?"primary":null},on:{click:function(t){return e.toggleAttributesVisibility("vertices")}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-square-medium-outline ")])],1),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.attributesVisibility.edges?"primary":null},on:{click:function(t){return e.toggleAttributesVisibility("edges")}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-vector-line ")])],1),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.attributesVisibility.faces?"primary":null},on:{click:function(t){return e.toggleAttributesVisibility("faces")}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-vector-triangle ")])],1)],1)],1),e._v(" "),r("v-card",{staticClass:"scroll",attrs:{height:e.halfHeight,flat:""}},[r("v-treeview",{attrs:{items:e.tree,dense:"",hoverable:"",active:[e.selected],open:e.opened},scopedSlots:e._u([{key:"prepend",fn:function(t){var n=t.item;return[r("v-icon",[e._v("\n            "+e._s(e.icons[n.type])+"\n          ")])]}},{key:"label",fn:function(t){var n=t.item;return[r("span",{ref:"label_"+n.id,staticClass:"pointer",on:{click:function(t){return e.select({id:n.id})}}},[e._v("\n            "+e._s(n.name)+"\n          ")])]}},{key:"append",fn:function(t){var n=t.item;return["Scene"===e.mode?r("v-icon",{on:{click:function(t){return e.toggleVisibility(n.id)}}},[e._v("\n            "+e._s(n.visible?"mdi-eye":"mdi-eye-off")+"\n          ")]):e._e(),e._v(" "),"Scene"===e.mode?r("v-icon",{on:{click:function(t){return e.remove(n)}}},[e._v("\n            mdi-delete\n          ")]):e._e(),e._v(" "),"Scene"===e.mode?r("v-icon",{on:{click:function(t){return t.preventDefault(),e.focus(n)}}},[e._v("\n            mdi-crosshairs\n          ")]):e._e(),e._v(" "),"Scene"===e.mode&&"compas.datastructures/Mesh"===n.type?r("v-icon",{on:{click:function(t){return e.startEditAttributes(n.id)}}},[e._v("\n            mdi-graph\n          ")]):e._e()]}}])})],1)],1),e._v(" "),"Attributes"===e.mode?r("div",[r("v-radio-group",{attrs:{value:e.attributeMode},on:{change:e.switchAttributeMode}},[r("v-radio",{attrs:{value:"vertices",label:"vertices"}}),e._v(" "),r("v-radio",{attrs:{value:"edges",label:"edges"}}),e._v(" "),r("v-radio",{attrs:{value:"faces",label:"faces"}})],1),e._v(" "),r("v-btn",{staticClass:"my-2",on:{click:e.exitEditAttributes}},[e._v("Exit Edit Attributes")])],1):e._e(),e._v(" "),r("v-divider",{staticClass:"my-5"}),e._v(" "),r("Property")],1)}),[],!1,null,"05b5185e",null);t.default=component.exports;x()(component,{Property:r(290).default}),x()(component,{VBtn:O.a,VCard:j.a,VCardTitle:_.b,VContainer:k.a,VDivider:V.a,VIcon:C.a,VRadio:A.a,VRadioGroup:P.a,VRow:S.a,VSpacer:R.a,VTreeview:E.a})},290:function(e,t,r){"use strict";r.r(t);r(6),r(10),r(7),r(3),r(11),r(8),r(12);var n=r(1),o=r(36);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"Property",data:function(){return{headers:[{text:"Key",value:"key"},{text:"Value",value:"value"}]}},computed:Object(o.d)("property",["properties","id"]),methods:l(l({},Object(o.b)("data",["showData"])),Object(o.b)("settings",["showSettings"]))},v=(r(561),r(47)),d=r(44),m=r.n(d),h=r(282),y=r(92),w=r(683),x=r(241),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{outlined:""}},[r("v-card-title",[e._v("Property")]),e._v(" "),r("v-data-table",{attrs:{headers:e.headers,items:e.properties,"hide-default-header":!0,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.value",fn:function(t){var n=t.item;return[r("span",[e._v("\n        "+e._s(n.value)+"\n      ")]),e._v(" "),n.data?r("v-icon",{on:{click:function(t){return e.showData(n.data)}}},[e._v("mdi-database-eye\n      ")]):e._e(),e._v(" "),"settings"===n.key?r("v-icon",{on:{click:function(t){return e.showSettings(e.id)}}},[e._v("mdi-cog\n      ")]):e._e()]}}])})],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VCard:h.a,VCardTitle:y.b,VDataTable:w.a,VIcon:x.a})},291:function(e,t,r){"use strict";r.r(t);r(6),r(10),r(7),r(3),r(11),r(8),r(12);var n=r(1),o=r(17),c=r(36);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"Environment",data:function(){return{useHdri:!1,upAxis:"Z",viewMode:"Normal",backgroundColor:15658734,activated:[],gimbal:!1,grid:!0}},watch:{upAxis:function(e){"Y"===e?(three.camera.up.set(0,1,0),three.controls.updateCameraUp()):(three.camera.up.set(0,0,1),three.controls.updateCameraUp())},backgroundColor:function(e){var t=1973790===e;three.scene.background.setHex(e),this.$vuetify.theme.dark=t,three.adaptAttributesColorToTheme(t)},viewMode:function(e){this.enableGhostedView("Ghosted"===e||"GhostedWireframe"===e);this.showAttributes({Normal:["faces"],Ghosted:["faces"],Wireframe:["edges"],NormalWireframe:["edges","faces"],GhostedWireframe:["edges","faces"]}[e])},gimbal:function(e){e?(three.enableTransformControls=!0,three.selected&&three.attachGimbal(three.selected)):(three.enableTransformControls=!1,three.transformControls.detach())},grid:function(e){three.grid.visible=three.axes.visible=!!e}},methods:f(f({},Object(c.b)("scene",["showAttributes","enableGhostedView"])),{},{showHdri:function(){this.useHdri?(three.scene.background=three.hdri,three.scene.environment=three.hdri):(three.scene.background=new o.Color(1973790),three.scene.environment=null)}})},d=r(47),m=r(44),h=r.n(m),y=r(674),w=r(688),x=r(676),O=r(677),j=r(678),_=r(680),component=Object(d.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-5"},[r("v-row",[r("v-col",[r("v-radio-group",{attrs:{label:"Theme"},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}},[r("v-radio",{attrs:{label:"Dark",value:1973790}}),e._v(" "),r("v-radio",{attrs:{label:"Light",value:15658734}})],1)],1),e._v(" "),r("v-col",[r("v-radio-group",{attrs:{label:"Up Axis"},model:{value:e.upAxis,callback:function(t){e.upAxis=t},expression:"upAxis"}},[r("v-radio",{attrs:{label:"Y",value:"Y"}}),e._v(" "),r("v-radio",{attrs:{label:"Z",value:"Z"}})],1)],1),e._v(" "),r("v-col",[r("v-radio-group",{attrs:{label:"View Mode"},model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}},[r("v-radio",{attrs:{label:"Normal",value:"Normal"}}),e._v(" "),r("v-radio",{attrs:{label:"Ghosted",value:"Ghosted"}}),e._v(" "),r("v-radio",{attrs:{label:"Wireframe",value:"Wireframe"}}),e._v(" "),r("v-radio",{attrs:{label:"Normal+Wireframe",value:"NormalWireframe"}}),e._v(" "),r("v-radio",{attrs:{label:"Ghosted+Wireframe",value:"GhostedWireframe"}})],1)],1)],1),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-switch",{attrs:{label:"Grid"},model:{value:e.grid,callback:function(t){e.grid=t},expression:"grid"}}),e._v(" "),r("v-switch",{attrs:{label:"Gimbal"},model:{value:e.gimbal,callback:function(t){e.gimbal=t},expression:"gimbal"}})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VCol:y.a,VContainer:w.a,VRadio:x.a,VRadioGroup:O.a,VRow:j.a,VSwitch:_.a})},292:function(e,t,r){"use strict";r.r(t);var n={name:"Animation",computed:{animations:function(){return window.three&&window.three.animations?window.three.animations:[]}}},o=r(47),c=r(44),l=r.n(c),f=r(241),v=r(278),d=r(188),m=r(87),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",[0==e.animations.length?r("v-list-item",[r("v-list-item-content",[e._v(" No animations available. ")])],1):e._e(),e._v(" "),e._l(e.animations,(function(t,i){return r("v-list-item",{key:i},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.name))]),e._v(" "),r("div",[r("v-icon",{attrs:{color:"green"},on:{click:function(e){return t.action.play()}}},[e._v("mdi-play")]),e._v(" "),r("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.action.stop()}}},[e._v("mdi-stop")])],1)],1)],1)}))],2)}),[],!1,null,null,null);t.default=component.exports;l()(component,{VIcon:f.a,VList:v.a,VListItem:d.a,VListItemContent:m.a,VListItemTitle:m.b})},293:function(e,t,r){"use strict";r.r(t);r(24),r(275);var n=r(17),o=r(233),c={name:"Camera",data:function(){return{cameraType:"Perspective",fov:null,position:new n.Vector3,target:new n.Vector3}},mounted:function(){this.fov=three.perspectiveCamera.fov,this.trackCamera()},watch:{fov:function(e){three.perspectiveCamera.fov=e,three.perspectiveCamera.updateProjectionMatrix()}},methods:{switchCamera:function(e,t){e!==this.cameraType&&("Perspective"===e?three.camera=three.perspectiveCamera:"Orthographic"===e&&(three.camera=three.orthographicCamera),three.camera.add(three.pointLight),three.renderPass.camera=three.camera,three.outlinePass.renderCamera=three.camera,three.controls.dispose(),three.controls=new o.a(three.camera,three.renderer.domElement),this.trackCamera(),this.cameraType=e),three.objectsGroup.children.length&&three.controls.fitToSphere(three.objectsGroup),three.controls.mouseButtons.left=t?o.a.ACTION.NONE:o.a.ACTION.ROTATE},trackCamera:function(){this.getPosition(),this.getTarget(),three.controls.addEventListener("update",this.getPosition),three.controls.addEventListener("update",this.getTarget)},getPosition:function(){three.controls.getPosition(this.position),this.position.x=Number(this.position.x.toFixed(3)),this.position.y=Number(this.position.y.toFixed(3)),this.position.z=Number(this.position.z.toFixed(3))},setPosition:function(){three.controls.setPosition(Number(this.position.x),Number(this.position.y),Number(this.position.z))},getTarget:function(){three.controls.getTarget(this.target),this.target.x=Number(this.target.x.toFixed(3)),this.target.y=Number(this.target.y.toFixed(3)),this.target.z=Number(this.target.z.toFixed(3))},setTarget:function(){three.controls.setLookAt(Number(this.position.x),Number(this.position.y),Number(this.position.z),Number(this.target.x),Number(this.target.y),Number(this.target.z))},setView:function(view){console.log(view);var e=new n.Box3;e.setFromObject(three.objectsGroup),e.getCenter(this.target);var t=new n.Vector3;switch(three.objectsGroup.children.length>0?e.getSize(t):t.set(2,2,2),view){case"top":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y,this.target.z+t.z);break;case"bottom":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y,this.target.z-t.z);break;case"front":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y+t.y,this.target.z);break;case"back":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y-t.y,this.target.z);break;case"left":this.switchCamera("Orthographic",!0),this.position.set(this.target.x-t.x,this.target.y,this.target.z);break;case"right":this.switchCamera("Orthographic",!0),this.position.set(this.target.x+t.x,this.target.y,this.target.z);break;case"perspective":this.switchCamera("Perspective")}this.setTarget()}}},l=r(47),f=r(44),v=r.n(f),d=r(296),m=r(674),h=r(688),y=r(676),w=r(677),x=r(678),O=r(401),j=r(112),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-5"},[r("v-radio-group",{attrs:{value:e.cameraType,label:"Camera Type"},on:{change:e.switchCamera}},[r("v-radio",{attrs:{label:"Perspective",value:"Perspective"}}),e._v(" "),r("v-radio",{attrs:{label:"Orthographic",value:"Orthographic"}})],1),e._v(" "),"Perspective"===e.cameraType?r("v-slider",{attrs:{label:"FOV",max:"180",min:"1","thumb-label":""},model:{value:e.fov,callback:function(t){e.fov=t},expression:"fov"}}):e._e(),e._v(" "),r("span",[e._v("Position")]),e._v(" "),r("v-row",[r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"x",outlined:""},on:{change:e.setPosition},model:{value:e.position.x,callback:function(t){e.$set(e.position,"x",t)},expression:"position.x"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"y",outlined:""},on:{change:e.setPosition},model:{value:e.position.y,callback:function(t){e.$set(e.position,"y",t)},expression:"position.y"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"z",outlined:""},on:{change:e.setPosition},model:{value:e.position.z,callback:function(t){e.$set(e.position,"z",t)},expression:"position.z"}})],1)],1),e._v(" "),r("span",[e._v("Target")]),e._v(" "),r("v-row",[r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"x",outlined:""},on:{change:e.setTarget},model:{value:e.target.x,callback:function(t){e.$set(e.target,"x",t)},expression:"target.x"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"y",outlined:""},on:{change:e.setTarget},model:{value:e.target.y,callback:function(t){e.$set(e.target,"y",t)},expression:"target.y"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"z",outlined:""},on:{change:e.setTarget},model:{value:e.target.z,callback:function(t){e.$set(e.target,"z",t)},expression:"target.z"}})],1)],1),e._v(" "),r("v-row",[r("v-col",[e._v("\n      Views\n      "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("top")}}},[e._v("Top")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("bottom")}}},[e._v("Bottom")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("front")}}},[e._v("Front")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("back")}}},[e._v("Back")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("left")}}},[e._v("Left")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("right")}}},[e._v("Right")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("perspective")}}},[e._v("Perspective")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:d.a,VCol:m.a,VContainer:h.a,VRadio:y.a,VRadioGroup:w.a,VRow:x.a,VSlider:O.a,VTextField:j.a})},294:function(e,t,r){"use strict";r.r(t);var n=r(36),o={name:"DataForm",computed:Object(n.d)("data",["dataView","show"]),methods:Object(n.b)("data",["hideData"])},c=(r(618),r(47)),l=r(44),f=r.n(l),v=r(296),d=r(282),m=r(283),h=r(687),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.show}},[r("v-card",{staticClass:"scroll",attrs:{light:"",flat:"","max-height":"800","min-height":"100","min-width":"500"}},[r("v-treeview",{attrs:{items:e.dataView}})],1),e._v(" "),r("v-btn",{staticClass:"mt-5",attrs:{light:""},on:{click:e.hideData}},[e._v("close")])],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:v.a,VCard:d.a,VOverlay:m.a,VTreeview:h.a})},295:function(e,t,r){"use strict";r.r(t);r(6),r(10),r(7),r(3),r(11),r(8),r(12);var n=r(1),o=r(36);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"SettingsForm",computed:Object(o.d)("settings",["settingsView","id","show","editingColorKey"]),data:function(){return{headers:[{text:"Key",value:"key"},{text:"Value",value:"value"}],settings:{},editingColorValue:null}},methods:l(l({},Object(o.b)("settings",["hideSettings","applyColor"])),Object(o.c)("settings",["setEditingColorKey"]))},v=(r(620),r(47)),d=r(44),m=r.n(d),h=r(296),y=r(282),w=r(92),x=r(684),O=r(683),j=r(283),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.show}},[r("v-card",{attrs:{"min-width":"500"}},[r("v-card-title",[e._v("Settings")]),e._v(" "),r("v-data-table",{attrs:{headers:e.headers,items:e.settingsView,"hide-default-header":!0,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.value",fn:function(t){var n=t.item;return[r("span",[e._v("\n          "+e._s(n.value)+"\n        ")]),e._v(" "),n.color?r("v-btn",{attrs:{color:n.color},on:{click:function(t){return e.setEditingColorKey(n.key)}}}):e._e(),e._v(" "),e.editingColorKey===n.key?r("v-card",{staticClass:"my-2"},[r("v-color-picker",{attrs:{"dot-size":"19","swatches-max-height":"200"},model:{value:e.editingColorValue,callback:function(t){e.editingColorValue=t},expression:"editingColorValue"}}),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.applyColor(e.editingColorValue)}}},[e._v("Apply")]),e._v(" "),r("v-btn",{on:{click:function(t){return e.setEditingColorKey(null)}}},[e._v("Cancel")])],1):e._e()]}}])}),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:e.hideSettings}},[e._v("Close")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VBtn:h.a,VCard:y.a,VCardActions:w.a,VCardTitle:w.b,VColorPicker:x.a,VDataTable:O.a,VOverlay:j.a})},302:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return f}));var n=r(22),o=(r(32),r(6),r(210),r(35),r(338),r(3),r(342),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(359),r(360),r(361),r(362),r(363),r(364),r(368),r(369),r(370),r(141),r(142),r(8),r(270),r(17)),c="\nattribute int selected;\nflat varying int vSelected;\n\nvoid main() {\n\n    vSelected = selected;\n\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    if (selected == 1) {\n        gl_PointSize = 20.0;\n    }else{\n        gl_PointSize = 10.0;\n    }\n\n    gl_Position = projectionMatrix * mvPosition;\n\n}\n",l="\nuniform vec3 color;\nflat varying int vSelected;\n\nvoid main() {\n\n    if (vSelected == 1) {\n        gl_FragColor = vec4( 1.0, 1.0, 0.0, 1.0 );\n    }else{\n        gl_FragColor = vec4( color, 1.0 );\n    }\n\n    if ( pow(gl_PointCoord.x - 0.5, 2.0) + pow(gl_PointCoord.y - 0.5, 2.0) > 0.25 ) discard;\n\n}\n";function f(data){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(console.log("toThree",data,e),"compas.datastructures/Mesh"===data.dtype){var t=new o.Group;t.type=data.dtype,t.guid=data.guid,t.name=data.value.name,t.settings=e;for(var r=[],f=[],v={},d={},m={},h={},y={},w=new o.Vector3,x=new o.Vector3,O=new o.Vector3,j=new o.Vector3,_=new o.Vector3,k=new o.Vector3,V=new o.Vector3,C=new o.Vector3,A=new o.Vector3,P=new o.Vector3,S=function(a,b){var e=[a+","+b],t=[b+","+a];v[e]||v[t]||(v[e]=[a,b])},R=0,E=Object.keys(data.value.vertex),i=0;i<E.length;i++)h[i]=E[i],y[E[i]]=i;for(var T=0,D=Object.entries(data.value.face);T<D.length;T++){var F=Object(n.a)(D[T],2),M=F[0],L=F[1];if(4===L.length){w.copy(data.value.vertex[L[0]]),x.copy(data.value.vertex[L[1]]),O.copy(data.value.vertex[L[2]]),j.copy(data.value.vertex[L[3]]),_.subVectors(O,x),k.subVectors(w,x),_.cross(k),V.subVectors(j,O),C.subVectors(w,O),V.cross(C),_.add(V),_.normalize();for(var N=0;N<6;N++)f.push(_.clone());A.subVectors(w,O),P.subVectors(x,j),A.lengthSq()<P.lengthSq()?(r.push(data.value.vertex[L[0]]),r.push(data.value.vertex[L[1]]),r.push(data.value.vertex[L[2]]),r.push(data.value.vertex[L[2]]),r.push(data.value.vertex[L[3]]),r.push(data.value.vertex[L[0]])):(r.push(data.value.vertex[L[3]]),r.push(data.value.vertex[L[0]]),r.push(data.value.vertex[L[1]]),r.push(data.value.vertex[L[1]]),r.push(data.value.vertex[L[2]]),r.push(data.value.vertex[L[3]])),S(L[0],L[1]),S(L[1],L[2]),S(L[2],L[3]),S(L[3],L[0]),m[M]=[R,R+1],d[R]=M,d[R+1]=M,R+=2}else if(3===L.length){r.push(data.value.vertex[L[0]]),r.push(data.value.vertex[L[1]]),r.push(data.value.vertex[L[2]]),w.copy(data.value.vertex[L[0]]),x.copy(data.value.vertex[L[1]]),O.copy(data.value.vertex[L[2]]),_.subVectors(O,x),k.subVectors(w,x),_.cross(k),_.normalize();for(var G=0;G<3;G++)f.push(_.clone());S(L[0],L[1]),S(L[1],L[2]),S(L[2],L[0]),m[M]=[R],d[R]=M,R+=1}}var z=e["color.faces"];z=z?new o.Color(z.value.red,z.value.green,z.value.blue):new o.Color(37586),r=r.map((function(e){return[e.x,e.y,e.z]})),f=f.map((function(e){return[e.x,e.y,e.z]}));var B=r.map((function(e){return[z.r,z.g,z.b]})),I=new o.BufferAttribute(new Float32Array(r.flat()),3),U=new o.BufferAttribute(new Float32Array(f.flat()),3),$=new o.BufferAttribute(new Float32Array(B.flat()),3),K=new o.BufferGeometry;K.setAttribute("position",I),K.setAttribute("normal",U),K.setAttribute("color",$);var H=new o.MeshStandardMaterial({side:o.DoubleSide,color:16777215,flatShading:!1,vertexColors:!0}),W=new o.Mesh(K,H);W.name="faces",W.isAttributes=!0,W.lastSelected=null,W.getAttributes=function(){for(var e=[],t=0,r=Object.entries(data.value.face);t<r.length;t++){var o=Object(n.a)(r[t],2),c=o[0];o[1];e.push({name:c,id:"faces."+c})}return e},W.setColor=function(e,g,b){for(var t=0;t<W.geometry.attributes.color.count;t++)W.geometry.attributes.color.setXYZ(t,e,g,b);W.geometry.attributes.color.needsUpdate=!0},W.indexToKey=function(e){return d[e]},W.selectAttribute=function(e){var t=function(e,t,g,b){m[e].forEach((function(e){for(var r=0;r<3;r++)W.geometry.attributes.color.array[9*e+3*r]=t,W.geometry.attributes.color.array[9*e+3*r+1]=g,W.geometry.attributes.color.array[9*e+3*r+2]=b}))};void 0!==W.lastSelected&&null!==W.lastSelected&&t(W.lastSelected,z.r,z.g,z.b),console.log(e),e&&t(e,1,1,0),W.lastSelected=e,W.geometry.attributes.color.needsUpdate=!0},W.getAttributeProperties=function(e){return[{key:"key",value:e},{key:"data",value:"facedata",data:data.value.facedata[e]}]},t.add(W);var X=e["color.edges"];X=X?new o.Color(X.value.red,X.value.green,X.value.blue):new o.Color(16777215);for(var Y=[],Z=0,J={},Q={},ee=0,te=0,re=Object.entries(v);te<re.length;te++){var ne=Object(n.a)(re[te],2),ae=ne[0],line=ne[1];J[ae]=ee,Q[ee]=ae,ee+=2,Y.push(data.value.vertex[line[0]],data.value.vertex[line[1]]),Z+=(new o.Vector3).subVectors(data.value.vertex[line[0]],data.value.vertex[line[1]]).length()}Z/=Y.length,t.raycastThreshold=Z/5,Y=Y.map((function(e){return[e.x,e.y,e.z]}));var oe=Y.map((function(e){return[X.r,X.g,X.b]})),ie=new o.BufferGeometry;ie.setAttribute("position",new o.BufferAttribute(new Float32Array(Y.flat()),3)),ie.setAttribute("color",new o.BufferAttribute(new Float32Array(oe.flat()),3));var se=new o.LineBasicMaterial({color:16777215,vertexColors:!0}),ce=new o.LineSegments(ie,se);ce.name="edges",ce.visible=!1,ce.isAttributes=!0,ce.lastSelected=null,ce.getAttributes=function(){for(var e=[],t=0,r=Object.entries(v);t<r.length;t++){var o=Object(n.a)(r[t],2),c=o[0];o[1];e.push({name:c,id:"edges."+c})}return e},ce.setColor=function(e,g,b){for(var t=0;t<ce.geometry.attributes.color.array.length;t+=3)ce.geometry.attributes.color.array[t]=e,ce.geometry.attributes.color.array[t+1]=g,ce.geometry.attributes.color.array[t+2]=b;ce.geometry.attributes.color.needsUpdate=!0},ce.invertColor=function(e){16777215!==X.getHex()||e?0===X.getHex()&&e&&X.set(16777215):X.set(0),ce.setColor(X.r,X.g,X.b)},ce.indexToKey=function(e){return Q[e]},ce.selectAttribute=function(e){var t=function(e,t,g,b){var r=J[e];ce.geometry.attributes.color.array[3*r]=t,ce.geometry.attributes.color.array[3*r+1]=g,ce.geometry.attributes.color.array[3*r+2]=b,ce.geometry.attributes.color.array[3*r+3]=t,ce.geometry.attributes.color.array[3*r+4]=g,ce.geometry.attributes.color.array[3*r+5]=b};null!==ce.lastSelected&&t(ce.lastSelected,X.r,X.g,X.b),null!==e&&t(e,1,1,0),ce.lastSelected=e,ce.geometry.attributes.color.needsUpdate=!0},ce.getAttributeProperties=function(e){return[{key:"key",value:e}]},t.add(ce),r=[];var ue=[];B=[];for(var le=0,fe=Object.entries(data.value.vertex);le<fe.length;le++){var ve=Object(n.a)(fe[le],2),pe=(ve[0],ve[1]);r.push([pe.x,pe.y,pe.z]),ue.push(0),B.push([1,0,0])}I=new o.BufferAttribute(new Float32Array(r.flat()),3),ue=new o.Int32BufferAttribute(ue,1);var de=new o.BufferGeometry;de.setAttribute("position",I),de.setAttribute("selected",ue);var be=e["color.vertices"];be=be?new o.Color(be.value.red,be.value.green,be.value.blue):new o.Color(16777215);var me=new o.ShaderMaterial({uniforms:{color:{value:be}},vertexShader:c,fragmentShader:l}),he=new o.Points(de,me);return he.name="vertices",he.isAttributes=!0,he.getAttributes=function(){for(var e=[],t=0,r=Object.entries(data.value.vertex);t<r.length;t++){var o=Object(n.a)(r[t],2),c=o[0];o[1];e.push({name:c,id:"vertices."+c})}return e},he.setColor=function(e,g,b){be.setRGB(e,g,b),he.geometry.attributes.selected.needsUpdate=!0},he.invertColor=function(e){16777215!==be.getHex()||e?0===be.getHex()&&e&&be.set(16777215):be.set(0),he.geometry.attributes.selected.needsUpdate=!0},he.indexToKey=function(e){return h[e]},he.selectAttribute=function(e){he.geometry.attributes.selected.array.fill(0);var t=y[e];void 0!==t&&(he.geometry.attributes.selected.array[t]=1),he.geometry.attributes.selected.needsUpdate=!0},he.getAttributeProperties=function(e){return[{key:"key",value:e},{key:"data",value:"vertexdata",data:data.value.vertex[e]}]},he.visible=!1,t.updateFromSettings=function(){e["color.faces"]&&W.setColor(e["color.faces"].value.red,e["color.faces"].value.green,e["color.faces"].value.blue),e["color.edges"]&&ce.setColor(e["color.edges"].value.red,e["color.edges"].value.green,e["color.edges"].value.blue),e["color.vertices"]&&he.setColor(e["color.vertices"].value.red,e["color.vertices"].value.green,e["color.vertices"].value.blue)},t.add(he),t.data=data,t}}},336:function(e,t,r){var content=r(459);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("dc093880",content,!0,{sourceMap:!1})},390:function(e,t,r){var content=r(562);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("6da3b560",content,!0,{sourceMap:!1})},391:function(e,t,r){var content=r(574);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("0361f7ca",content,!0,{sourceMap:!1})},393:function(e,t,r){var content=r(602);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("ef9be580",content,!0,{sourceMap:!1})},394:function(e,t,r){var content=r(619);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("8a071b80",content,!0,{sourceMap:!1})},395:function(e,t,r){var content=r(621);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("308ebe20",content,!0,{sourceMap:!1})},408:function(e,t,r){"use strict";r(6),r(10),r(7),r(3),r(11),r(8),r(12);var n=r(1),o=r(287),c=r(36),l=r(294),f=r(295);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={name:"DefaultLayout",components:{Controller:o.default,DataForm:l.default,SettingsForm:f.default},computed:Object(c.d)(["showController"]),data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[{icon:"mdi-apps",title:"Welcome",to:"/"},{icon:"mdi-chart-bubble",title:"Inspire",to:"/inspire"}],miniVariant:!1,title:"COMPAS WebView"}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)(["toggleController"]))},m=d,h=r(47),y=r(44),w=r.n(y),x=r(673),O=r(686),j=r(296),_=r(241),k=r(682),V=r(679),C=r(402),component=Object(h.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{dark:""}},[r("v-app-bar",{attrs:{fixed:"",app:""}},[r("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleController.apply(null,arguments)}}},[r("v-icon",[e._v("mdi-menu")])],1)],1),e._v(" "),r("v-main",[r("Nuxt")],1),e._v(" "),r("Controller"),e._v(" "),r("DataForm"),e._v(" "),r("SettingsForm")],1)}),[],!1,null,null,null);t.a=component.exports;w()(component,{Controller:r(287).default,DataForm:r(294).default,SettingsForm:r(295).default}),w()(component,{VApp:x.a,VAppBar:O.a,VBtn:j.a,VIcon:_.a,VMain:k.a,VSpacer:V.a,VToolbarTitle:C.a})},414:function(e,t,r){r(415),e.exports=r(416)},458:function(e,t,r){"use strict";r(336)},459:function(e,t,r){var n=r(14)(!1);n.push([e.i,"h1[data-v-35e10596]{font-size:20px}",""]),e.exports=n},464:function(e,t,r){"use strict";r.r(t);r(7),r(3),r(338),r(342),r(344),r(345),r(346),r(347),r(348),r(349),r(350),r(351),r(352),r(353),r(354),r(355),r(356),r(357),r(359),r(360),r(361),r(362),r(363),r(364),r(368),r(369),r(370),r(35),r(270);var n=r(17);function o(e,t,r){return e.filter((function(e){return e.angleTo(t)<r*Math.PI/180})).reduce((function(a,b){return a.clone().add(b)})).normalize()}t.default=function(e){if(!this.getAttribute("normal")){e=e||15;var t=this.index,r=this.getAttribute("position"),c=new n.Vector3,l=new n.Vector3,f=new n.Vector3,v=new n.Vector3,d=new n.Vector3,m=new n.Vector3,h=new n.Vector3,y=new n.Vector3;if(this.index){for(var w=new n.BufferAttribute(new Float32Array(3*this.index.count),3),x=new n.BufferAttribute(new Float32Array(3*w.count),3),O=Array(r.count).fill().map((function(){return[]})),j=[],i=0,_=t.count;i<_;i+=3){var k=t.getX(i+0),V=t.getX(i+1),C=t.getX(i+2);c.fromBufferAttribute(r,k),l.fromBufferAttribute(r,V),f.fromBufferAttribute(r,C),w.setXYZ(i+0,c.x,c.y,c.z),w.setXYZ(i+1,l.x,l.y,l.z),w.setXYZ(i+2,f.x,f.y,f.z),c.fromBufferAttribute(r,k),l.fromBufferAttribute(r,V),f.fromBufferAttribute(r,C),h.subVectors(f,l),y.subVectors(c,l),h.cross(y),h.normalize(),O[k].push(h.clone()),O[V].push(h.clone()),O[C].push(h.clone()),j.push({vA:k,vB:V,vC:C,nA:i,nB:i+1,nC:i+2,normal:h.clone()})}j.map((function(t){v=o(O[t.vA],t.normal,e),d=o(O[t.vB],t.normal,e),m=o(O[t.vC],t.normal,e),x.setXYZ(t.nA,v.x,v.y,v.z),x.setXYZ(t.nB,d.x,d.y,d.z),x.setXYZ(t.nC,m.x,m.y,m.z)}));var A=new n.BufferGeometry;return A.setAttribute("position",w),A.setAttribute("normal",x),A}}}},561:function(e,t,r){"use strict";r(390)},562:function(e,t,r){var n=r(14)(!1);n.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=n},573:function(e,t,r){"use strict";r(391)},574:function(e,t,r){var n=r(14)(!1);n.push([e.i,".pointer[data-v-05b5185e]{cursor:pointer}.scroll[data-v-05b5185e]{overflow-y:scroll}",""]),e.exports=n},601:function(e,t,r){"use strict";r(393)},602:function(e,t,r){var n=r(14)(!1);n.push([e.i,".v-tabs-items.full-height-tab .v-window-item{height:calc(100vh - 48px);overflow-y:auto}",""]),e.exports=n},618:function(e,t,r){"use strict";r(394)},619:function(e,t,r){var n=r(14)(!1);n.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=n},620:function(e,t,r){"use strict";r(395)},621:function(e,t,r){var n=r(14)(!1);n.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=n},638:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c}));var n=function(){return{showController:!0}},o={setShowController:function(e,t){e.showController=t}},c={toggleController:function(e){var t=e.state;(0,e.commit)("setShowController",!t.showController),console.log(t.showController)}}},639:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return f}));var n=r(25),o=r(22),c=(r(210),r(29),function(){return{show:!1,dataView:[]}}),l={setShow:function(e,t){e.show=t},setDataView:function(e,t){e.dataView=t}},f={showData:function(e,data){var t=e.commit,r=0;t("setShow",!0),t("setDataView",function e(data){for(var t=[],c=0,l=Object.entries(data);c<l.length;c++){var f=Object(o.a)(l[c],2),v=f[0],d=f[1];Array.isArray(d)?t.push({id:r++,name:"".concat(v," : []"),children:e(d)}):"object"===Object(n.a)(d)&&d?t.push({id:r++,name:"".concat(v," : {}"),children:e(d)}):t.push({id:r++,name:"".concat(v," : ").concat(d)})}return t}(data))},hideData:function(e){(0,e.commit)("setShow",!1)}}},640:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c}));var n=function(){return{id:null,properties:[]}},o={setId:function(e,t){e.id=t},setProperties:function(e,t){e.properties=t}},c={showProperties:function(e,t){var r=e.commit,n=t.id,o=t.properties;r("setId",n||null),r("setProperties",o||[])}}},641:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return f}));var n=r(23),o=(r(3),r(71),r(102),r(248)),c=function(){return{tags:[],files:[]}},l={setTags:function(e,t){e.tags=t},setFiles:function(e,t){e.files=t}},f={getTags:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,f,v,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,c=t.owner,l=t.repo,f=t.pat,v=new o.a({auth:f}),r.next=5,v.request("GET /repos/{owner}/{repo}/tags",{owner:c,repo:l});case 5:d=r.sent,n("setTags",d.data),console.log(d);case 8:case"end":return r.stop()}}),r)})))()},getFiles:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,f,path,v,d,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,c=t.owner,l=t.repo,f=t.pat,path=t.path,v=t.ref,d=new o.a({auth:f}),r.next=5,d.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:c,repo:l,path:path,ref:v});case 5:m=r.sent,n("setFiles",m.data),console.log(m);case 8:case"end":return r.stop()}}),r)})))()},getFile:function(t,r){return Object(n.a)(regeneratorRuntime.mark((function n(){var c,l,f,path,v,d,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,c=r.owner,l=r.repo,f=r.pat,path=r.path,v=r.ref,d=new o.a({auth:f}),n.next=5,d.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:c,repo:l,path:path,ref:v});case 5:return m=n.sent,console.log(m),n.abrupt("return",e.from(m.data.content,"base64").toString("utf8"));case 8:case"end":return n.stop()}}),n)})))()}}}.call(this,r(396).Buffer)},655:function(e,t){},656:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return f})),r.d(t,"mutations",(function(){return v})),r.d(t,"actions",(function(){return d}));r(6),r(10),r(7),r(11),r(12);var n=r(1),o=r(23);r(102),r(32),r(30),r(85),r(40),r(35),r(61),r(3),r(8);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=function(){return{mode:"Scene",attributeMode:"vertices",tree:[],selected:null,attributesVisibility:{vertices:!1,edges:!1,faces:!0},editingObj:null,activeAttributeObj:null}},v={setMode:function(e,t){e.mode=t},setAttributeMode:function(e,t){e.attributeMode=t},setTree:function(e,t){e.tree=t},setSelected:function(e,t){e.selected=t},setVisibility:function(e,t){var r=t.id,n=t.visible,o=function(e,t){var r={},n=function e(t,r,n){t.id==r?n.item=t:t.children&&t.children.forEach((function(t){e(t,r,n)}))};return n({children:e},t,r),r.item}(e.tree,r);o.visible=n},setAttributesVisibility:function(e,t){e.attributesVisibility=t},setEditingObj:function(e,t){e.editingObj=t},setActiveAttributeObj:function(e,t){e.activeAttributeObj=t}},d={select:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,f,v,d,m,h,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.commit,o=e.dispatch,c=e.state,l=t.id,f=t.attributeKey,"Scene"!==c.mode){r.next=14;break}return n("setSelected",l),r.next=6,o("getObject",l);case 6:return v=r.sent,three.select(v),d=[],v&&(d=[{key:"name",value:v.name},{key:"type",value:v.type}],v.guid&&d.push({key:"guid",value:v.guid}),v.settings&&d.push({key:"settings",value:"{...}"}),v.data&&d.push({key:"data",value:"{...}",data:v.data})),r.next=12,o("property/showProperties",{id:l,properties:d},{root:!0});case 12:r.next=33;break;case 14:if("string"!=typeof l){r.next=24;break}if(m=l.split(".")[0],!["vertices","edges","faces"].includes(m)){r.next=22;break}if(m===c.attributeMode){r.next=20;break}return r.next=20,o("switchAttributeMode",m);case 20:n("setSelected",l),f=l.split(".")[1];case 22:r.next=25;break;case 24:n("setSelected",c.attributeMode+"."+f);case 25:return r.next=27,o("getActiveAttributeObj");case 27:return(h=r.sent)&&h.selectAttribute(f),y=[],f&&(y=h.getAttributeProperties(f)),r.next=33,o("property/showProperties",{properties:y},{root:!0});case 33:case"end":return r.stop()}}),r)})))()},updateTree:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.commit,n=e.state,o=e.dispatch,three){t.next=3;break}return t.abrupt("return");case 3:if(c=function e(t){return t.children.map((function(t){var r=[];return"Scene"===n.mode?r=e(t):"Attributes"===n.mode&&t.getAttributes&&(r=t.getAttributes(t)),{name:t.name||t.guid?t.name||t.guid:"(".concat(t.type,")"),id:t.id,guid:t.guid,type:t.type,visible:t.visible,children:r}}))},"Scene"!==n.mode){t.next=8;break}r("setTree",c(three.objectsGroup)),t.next=16;break;case 8:if("Attributes"!==n.mode){t.next=16;break}return t.t0=r,t.t1=c,t.next=13,o("getEditingObj");case 13:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)("setTree",t.t3);case 16:case"end":return t.stop()}}),t)})))()},toggleVisibility:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.commit,o=e.dispatch,three){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,o("getObject",t);case 5:(c=r.sent)&&(c.visible=!c.visible,n("setVisibility",{id:t,visible:c.visible}));case 7:case"end":return r.stop()}}),r)})))()},toggleAttributesVisibility:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,f,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.state,o=e.commit,c=e.dispatch,f=l({},n.attributesVisibility),v=f[t]=!f[t],o("setAttributesVisibility",f),three){r.next=6;break}return r.abrupt("return");case 6:return three.objectsGroup.traverse((function(e){e.isAttributes&&e.name===t&&(e.visible=v)})),r.next=9,c("updateTree");case 9:case"end":return r.stop()}}),r)})))()},showAttributes:function(e){var t=arguments;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,f,v,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(d in n=e.state,o=e.commit,c=e.dispatch,f=t.length>1&&void 0!==t[1]?t[1]:[],v=l({},n.attributesVisibility))v[d]=f.includes(d);if(o("setAttributesVisibility",v),three){r.next=7;break}return r.abrupt("return");case 7:return three.objectsGroup.traverse((function(e){e.isAttributes&&(e.visible=v[e.name])})),r.next=10,c("updateTree");case 10:case"end":return r.stop()}}),r)})))()},removeObject:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,n("getObject",t);case 3:return(o=r.sent).parent.remove(o),r.next=7,n("updateTree");case 7:case"end":return r.stop()}}),r)})))()},getObject:function(e,t){if(three){var r=null;return three.scene.traverse((function(e){e.id==t&&(r=e)})),r}},enableGhostedView:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(three){e.next=2;break}return e.abrupt("return");case 2:three.objectsGroup.traverse((function(e){e.isAttributes&&(void 0===e.material._opacity&&(e.material._opacity=e.material.opacity),void 0===e.material._transparent&&(e.material._transparent=e.material.transparent),t?(e.material.transparent=!0,e.material.opacity=.3):(e.material.transparent=e.material._transparent,e.material.opacity=e.material._opacity))}));case 3:case"end":return e.stop()}}),e)})))()},startEditAttributes:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,o=e.commit,r.next=3,n("select",{});case 3:return o("setMode","Attributes"),o("setEditingObj",t),r.next=7,n("getEditingObj");case 7:return c=r.sent,three.focus(c),three.objectsGroup.traverse((function(e){e!==three.objectsGroup&&(e._visible=e.visible,e.visible=e===c)})),console.log("Editing attributes:",c),r.next=13,n("switchAttributeMode","vertices");case 13:return r.next=15,n("updateTree");case 15:return r.next=17,n("showAttributes",["vertices","edges","faces"]);case 17:case"end":return r.stop()}}),r)})))()},exitEditAttributes:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dispatch,n=e.commit,t.next=3,r("select",{});case 3:return three.objectsGroup.traverse((function(e){e.visible=e._visible})),n("setMode","Scene"),n("setEditingObj",null),t.next=8,r("updateTree");case 8:case"end":return t.stop()}}),t)})))()},switchAttributeMode:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,c=e.state,n("setAttributeMode",t),r.next=4,o("getEditingObj");case 4:return r.sent.traverse((function(e){e.isAttributes&&(e.name===c.attributeMode?n("setActiveAttributeObj",e.id):e.selectAttribute(null))})),r.next=7,o("select",{});case 7:case"end":return r.stop()}}),r)})))()},getEditingObj:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state,n=e.dispatch,t.next=3,n("getObject",r.editingObj);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},getActiveAttributeObj:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state,n=e.dispatch,t.next=3,n("getObject",r.activeAttributeObj);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}}},657:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return f}));var n=r(23),o=r(22),c=(r(102),r(210),r(29),function(){return{show:!1,id:null,settingsView:[],editingColorKey:null}}),l={setShow:function(e,t){e.show=t},setId:function(e,t){e.id=t},setSettingsView:function(e,t){e.settingsView=t},setEditingColorKey:function(e,t){e.editingColorKey=t}},f={mapSettings:function(e,t){for(var r=e.commit,n=[],c=0,l=Object.entries(t);c<l.length;c++){var f=Object(o.a)(l[c],2),v=f[0],d=f[1];"compas.colors/Color"===d.dtype?n.push({key:v,color:"rgb(".concat(255*d.value.red,", ").concat(255*d.value.green,", ").concat(255*d.value.blue,")")}):n.push({key:v,value:JSON.stringify(d)})}r("setSettingsView",n)},showSettings:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,n("setShow",!0),n("setId",t),r.next=5,o("scene/getObject",t,{root:!0});case 5:return c=r.sent,r.next=8,o("mapSettings",c.settings);case 8:case"end":return r.stop()}}),r)})))()},hideSettings:function(e){var t=e.commit;t("setShow",!1),t("setId",null),t("setSettingsView",[])},applyColor:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,o=e.state,c=e.commit,r.next=3,n("scene/getObject",o.id,{root:!0});case 3:return l=r.sent,(f=l.settings[o.editingColorKey].value).red=t.rgba.r/255,f.green=t.rgba.g/255,f.blue=t.rgba.b/255,l.updateFromSettings(),c("setEditingColorKey",null),r.next=12,n("mapSettings",l.settings);case 12:case"end":return r.stop()}}),r)})))()}}}},[[414,11,2,12]]]);