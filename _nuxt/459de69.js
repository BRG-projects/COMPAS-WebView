(window.webpackJsonp=window.webpackJsonp||[]).push([[7,4],{597:function(e,t,n){"use strict";n.r(t);var r=n(48),o=n(49),h=(n(33),n(36),n(55),n(177)),c=n(598),l=n(599),d=n(606),w=n(601),m=n(602),f=n(603);f.a.install({THREE:h});var v=function(){function e(){Object(r.a)(this,e),this.scene=new h.Scene,this.camera=new h.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),this.controls=null,this.renderer=new h.WebGLRenderer({antialias:!0}),this.light=new h.DirectionalLight("hsl(0, 100%, 100%)"),this.axes=new h.AxesHelper(5),this.clock=new h.Clock,this.group=new h.Group,this.gltfGroup=new h.Group,this.loader=new c.a,this.clock=new h.Clock,this.mixer=null,this.hdri=null,this.selected=null}return Object(o.a)(e,[{key:"setup",value:function(e){var t=this;this.refs=e,this.group.name="Default",this.light.position.set(0,0,10),this.camera.position.z=5,this.group.add(this.camera),this.group.add(this.light),this.group.add(this.axes),this.scene.add(this.group),this.gltfGroup.name="GLTFs",this.scene.add(this.gltfGroup),this.scene.background=new h.Color(1973790),this.refs.canvas.appendChild(this.renderer.domElement),this.controls=new f.a(this.camera,this.renderer.domElement),this.composer=new d.a(this.renderer);var n,r=new w.a(this.scene,this.camera);this.composer.addPass(r),this.outlinePass=new m.a(new h.Vector2(window.innerWidth,window.innerHeight),this.scene,this.camera),this.composer.addPass(this.outlinePass),this.updateDimensions(),window.addEventListener("resize",this.updateDimensions),n=window.location.host.includes("localhost")?"/studio_small_08_4k.hdr":"/GLTF_viewer/studio_small_08_4k.hdr",(new l.a).load(n,(function(e){e.mapping=h.EquirectangularReflectionMapping,t.scene.environment=e,t.hdri=e}));var o=new h.Raycaster,c=new h.Vector2;window.addEventListener("mousemove",(function(e){c.x=e.clientX/window.innerWidth*2-1,c.y=-e.clientY/window.innerHeight*2+1})),window.addEventListener("dblclick",(function(e){o.setFromCamera(c,window.three.camera);var t=o.intersectObjects(window.three.gltfGroup.children);if(t.length>0){var n=t[0].object;window.three.select(n)}else window.three.select()}))}},{key:"select",value:function(e){console.log("select",e),e?(this.selected=e,this.outlinePass.selectedObjects=[e]):(this.selected=null,this.outlinePass.selectedObjects=[])}},{key:"start",value:function(){var e=this;!function animate(){var t=e.clock.getDelta();e.controls.update(t),requestAnimationFrame(animate),e.composer.render(),e.mixer&&e.mixer.update(t)}()}},{key:"updateDimensions",value:function(){var e=window.three.refs.container.clientWidth,t=window.three.refs.container.clientHeight;window.three.renderer.setSize(e,t),window.three.composer.setSize(e,t),window.three.camera.aspect=e/t,window.three.camera.updateProjectionMatrix()}}]),e}(),k={name:"ThreeView",data:function(){return{three:new v}},mounted:function(){window.three=this.three,this.three.setup(this.$refs),this.three.start()}},x=n(66),_=n(67),E=n.n(_),j=n(616),component=Object(x.a)(k,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{ref:"container",staticClass:"pa-0 ma-0",attrs:{fluid:"","fill-height":""}},[t("div",{ref:"canvas"})])}),[],!1,null,null,null);t.default=component.exports;E()(component,{VContainer:j.a})},612:function(e,t,n){"use strict";n.r(t);var r={components:{ThreeView:n(597).default},name:"IndexPage"},o=n(66),component=Object(o.a)(r,(function(){var e=this.$createElement;return(this._self._c||e)("ThreeView")}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ThreeView:n(597).default})}}]);