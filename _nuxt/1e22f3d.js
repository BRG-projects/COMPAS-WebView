(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{132:function(e,t,r){"use strict";var n={name:"EmptyLayout",layout:"empty",props:{error:{type:Object,default:null}},data:function(){return{pageNotFound:"404 Not Found",otherError:"An error occurred"}},head:function(){return{title:404===this.error.statusCode?this.pageNotFound:this.otherError}}},o=(r(458),r(50)),c=r(47),l=r.n(c),f=r(673),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{dark:""}},[404===e.error.statusCode?r("h1",[e._v("\n    "+e._s(e.pageNotFound)+"\n  ")]):r("h1",[e._v("\n    "+e._s(e.otherError)+"\n  ")]),e._v(" "),r("NuxtLink",{attrs:{to:"/"}},[e._v("\n    Home page\n  ")])],1)}),[],!1,null,"35e10596",null);t.a=component.exports;l()(component,{VApp:f.a})},312:function(e,t,r){"use strict";r.r(t);r(7),r(10),r(8),r(11),r(6),r(12);var n=r(23),o=r(1),c=(r(103),r(36),r(30),r(31),r(85),r(3),r(43),r(63),r(37)),l=r(22),f=(r(100),r(39)),v=r(40),d=r(56),h=r(51),m=r(33),y=r(21),w=(r(158),r(270),r(272),r(273),r(274),r(275),r(276),r(277),r(278),r(279),r(280),r(281),r(282),r(283),r(284),r(285),r(286),r(287),r(288),r(289),r(290),r(291),r(292),r(293),r(294),r(295),r(117),r(118),function(){function e(){Object(f.a)(this,e)}return Object(v.a)(e,[{key:"init",value:function(data,e){this.isAttributes=!0,this.data=data,this.settings=e}},{key:"getAttributes",value:function(){}},{key:"setColor",value:function(){}},{key:"indexToKey",value:function(){}},{key:"selectAttribute",value:function(){}},{key:"getAttributeProperties",value:function(){}}]),e}()),O=r(160),x=r.n(O);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var _=function(e){Object(d.a)(r,e);var t=j(r);function r(data,e){var n;Object(f.a)(this,r);for(var o=[],c=[],v={},d={},h=0,m=new l.Vector3,w=new l.Vector3,O=new l.Vector3,x=new l.Vector3,j=new l.Vector3,_=new l.Vector3,k=new l.Vector3,V=new l.Vector3,C=new l.Vector3,A=new l.Vector3,P=0,S=Object.entries(data.value.face);P<S.length;P++){var R=Object(y.a)(S[P],2),E=R[0],T=R[1];if(4===T.length){m.copy(data.value.vertex[T[0]]),w.copy(data.value.vertex[T[1]]),O.copy(data.value.vertex[T[2]]),x.copy(data.value.vertex[T[3]]),j.subVectors(O,w),_.subVectors(m,w),j.cross(_),k.subVectors(x,O),V.subVectors(m,O),k.cross(V),j.add(k),j.normalize();for(var i=0;i<6;i++)c.push(j.clone());C.subVectors(m,O),A.subVectors(w,x),C.lengthSq()<A.lengthSq()?(o.push(data.value.vertex[T[0]]),o.push(data.value.vertex[T[1]]),o.push(data.value.vertex[T[2]]),o.push(data.value.vertex[T[2]]),o.push(data.value.vertex[T[3]]),o.push(data.value.vertex[T[0]])):(o.push(data.value.vertex[T[3]]),o.push(data.value.vertex[T[0]]),o.push(data.value.vertex[T[1]]),o.push(data.value.vertex[T[1]]),o.push(data.value.vertex[T[2]]),o.push(data.value.vertex[T[3]])),d[E]=[h,h+1],v[h]=E,v[h+1]=E,h+=2}else if(3===T.length){o.push(data.value.vertex[T[0]]),o.push(data.value.vertex[T[1]]),o.push(data.value.vertex[T[2]]),m.copy(data.value.vertex[T[0]]),w.copy(data.value.vertex[T[1]]),O.copy(data.value.vertex[T[2]]),j.subVectors(O,w),_.subVectors(m,w),j.cross(_),j.normalize();for(var M=0;M<3;M++)c.push(j.clone());d[E]=[h],v[h]=E,h+=1}}var F=e["color.faces"];F=F?new l.Color(F.value.red,F.value.green,F.value.blue):new l.Color(37586),o=o.map((function(e){return[e.x,e.y,e.z]})),c=c.map((function(e){return[e.x,e.y,e.z]}));var D=o.map((function(e){return[F.r,F.g,F.b]})),L=new l.BufferAttribute(new Float32Array(o.flat()),3),N=new l.BufferAttribute(new Float32Array(c.flat()),3),G=new l.BufferAttribute(new Float32Array(D.flat()),3),I=new l.BufferGeometry;I.setAttribute("position",L),I.setAttribute("normal",N),I.setAttribute("color",G);var z=new l.MeshStandardMaterial({side:l.DoubleSide,color:16777215,flatShading:!1,vertexColors:!0});return(n=t.call(this,I,z)).init(data,e),n.triangleFaceMapping=v,n.compasFaceMapping=d,n.colorFaces=F,n.name="faces",n}return Object(v.a)(r,[{key:"getAttributes",value:function(){var e=[];for(var t in this.data.value.face)e.push({name:t,id:"faces."+t});return e}},{key:"setColor",value:function(e,g,b){for(var i=0;i<this.geometry.attributes.color.count;i++)this.geometry.attributes.color.setXYZ(i,e,g,b);this.geometry.attributes.color.needsUpdate=!0}},{key:"indexToKey",value:function(e){return this.triangleFaceMapping[e]}},{key:"selectAttribute",value:function(e){var t=this,r=function(e,r,g,b){t.compasFaceMapping[e].forEach((function(e){for(var n=0;n<3;n++)t.geometry.attributes.color.array[9*e+3*n]=r,t.geometry.attributes.color.array[9*e+3*n+1]=g,t.geometry.attributes.color.array[9*e+3*n+2]=b}))};void 0!==this.lastSelected&&null!==this.lastSelected&&r(this.lastSelected,this.colorFaces.r,this.colorFaces.g,this.colorFaces.b),e&&r(e,1,1,0),this.lastSelected=e,this.geometry.attributes.color.needsUpdate=!0}},{key:"getAttributeProperties",value:function(e){return[{key:"key",value:e},{key:"data",value:"facedata",data:this.data.value.facedata[e]}]}}]),r}(x()(l.Mesh,w));function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var V=function(e){Object(d.a)(r,e);var t=k(r);function r(data,e){var n;Object(f.a)(this,r);for(var o={},c=function(a,b){var e=[a+","+b],t=[b+","+a];o[e]||o[t]||(o[e]=[a,b])},v=0,d=Object.entries(data.value.face);v<d.length;v++){var h=Object(y.a)(d[v],2),m=(h[0],h[1]);4===m.length?(c(m[0],m[1]),c(m[1],m[2]),c(m[2],m[3]),c(m[3],m[0])):3===m.length&&(c(m[0],m[1]),c(m[1],m[2]),c(m[2],m[0]))}var w=e["color.edges"];w=w?new l.Color(w.value.red,w.value.green,w.value.blue):new l.Color(16777215);for(var O=[],x=0,j={},_={},k=0,V=0,C=Object.entries(o);V<C.length;V++){var A=Object(y.a)(C[V],2),P=A[0],line=A[1];j[P]=k,_[k]=P,k+=2,O.push(data.value.vertex[line[0]],data.value.vertex[line[1]]),x+=(new l.Vector3).subVectors(data.value.vertex[line[0]],data.value.vertex[line[1]]).length()}x/=O.length;var S=(O=O.map((function(e){return[e.x,e.y,e.z]}))).map((function(e){return[w.r,w.g,w.b]})),R=new l.BufferGeometry;R.setAttribute("position",new l.BufferAttribute(new Float32Array(O.flat()),3)),R.setAttribute("color",new l.BufferAttribute(new Float32Array(S.flat()),3));var E=new l.LineBasicMaterial({color:16777215,vertexColors:!0});return(n=t.call(this,R,E)).init(data,e),n.edges=o,n.edgesIndexMapping=j,n.edgesKeyMapping=_,n.colorEdges=w,n.name="edges",n.visible=!1,n.raycastThreshold=x/5,n}return Object(v.a)(r,[{key:"getAttributes",value:function(){var e=[];for(var t in this.edges)e.push({name:t,id:"edges."+t});return e}},{key:"setColor",value:function(e,g,b){for(var i=0;i<this.geometry.attributes.color.array.length;i+=3)this.geometry.attributes.color.array[i]=e,this.geometry.attributes.color.array[i+1]=g,this.geometry.attributes.color.array[i+2]=b;this.geometry.attributes.color.needsUpdate=!0}},{key:"invertColor",value:function(e){16777215!==this.colorEdges.getHex()||e?0===this.colorEdges.getHex()&&e&&this.colorEdges.set(16777215):this.colorEdges.set(0),this.setColor(this.colorEdges.r,this.colorEdges.g,this.colorEdges.b)}},{key:"indexToKey",value:function(e){return this.edgesKeyMapping[e]}},{key:"selectAttribute",value:function(e){var t=this,r=function(e,r,g,b){var n=t.edgesIndexMapping[e];t.geometry.attributes.color.array[3*n]=r,t.geometry.attributes.color.array[3*n+1]=g,t.geometry.attributes.color.array[3*n+2]=b,t.geometry.attributes.color.array[3*n+3]=r,t.geometry.attributes.color.array[3*n+4]=g,t.geometry.attributes.color.array[3*n+5]=b};null!==this.lastSelected&&r(this.lastSelected,this.colorEdges.r,this.colorEdges.g,this.colorEdges.b),null!==e&&r(e,1,1,0),this.lastSelected=e,this.geometry.attributes.color.needsUpdate=!0}},{key:"getAttributeProperties",value:function(e){var t=[{key:"key",value:e}];return this.data.value.edgedata&&t.push({key:"data",value:"edgedata",data:this.data.value.edgedata[e]}),t}}]),r}(x()(l.LineSegments,w));r(370);function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var A=function(e){Object(d.a)(r,e);var t=C(r);function r(data,e){var n;Object(f.a)(this,r);for(var o=[],c=[],v={},d={},i=0,h=0,m=Object.entries(data.value.vertex);h<m.length;h++){var w=Object(y.a)(m[h],2),O=w[0],x=w[1];o.push([x.x,x.y,x.z]),c.push(0),v[i]=O,d[O]=i,i++}var j=new l.BufferAttribute(new Float32Array(o.flat()),3);c=new l.Int32BufferAttribute(c,1);var _=new l.BufferGeometry;_.setAttribute("position",j),_.setAttribute("selected",c);var k=e["color.vertices"];k=k?new l.Color(k.value.red,k.value.green,k.value.blue):new l.Color(16777215);var V=new l.ShaderMaterial({uniforms:{color:{value:k}},vertexShader:"\nattribute int selected;\nflat varying int vSelected;\n\nvoid main() {\n\n    vSelected = selected;\n\n    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n    if (selected == 1) {\n        gl_PointSize = 20.0;\n    }else{\n        gl_PointSize = 10.0;\n    }\n\n    gl_Position = projectionMatrix * mvPosition;\n\n}\n",fragmentShader:"\nuniform vec3 color;\nflat varying int vSelected;\n\nvoid main() {\n\n    if (vSelected == 1) {\n        gl_FragColor = vec4( 1.0, 1.0, 0.0, 1.0 );\n    }else{\n        gl_FragColor = vec4( color, 1.0 );\n    }\n\n    if ( pow(gl_PointCoord.x - 0.5, 2.0) + pow(gl_PointCoord.y - 0.5, 2.0) > 0.25 ) discard;\n\n}\n"});return(n=t.call(this,_,V)).init(data,e),n.vertexIndexMapping=v,n.vertexKeyMapping=d,n.colorPoints=k,n.name="vertices",n.visible=!1,n}return Object(v.a)(r,[{key:"getAttributes",value:function(){var e=[];for(var t in this.data.value.vertex)e.push({name:t,id:"vertices."+t});return e}},{key:"setColor",value:function(e,g,b){this.colorPoints.setRGB(e,g,b),this.geometry.attributes.selected.needsUpdate=!0}},{key:"invertColor",value:function(e){16777215!==this.colorPoints.getHex()||e?0===this.colorPoints.getHex()&&e&&this.colorPoints.set(16777215):this.colorPoints.set(0),this.geometry.attributes.selected.needsUpdate=!0}},{key:"indexToKey",value:function(e){return this.vertexIndexMapping[e]}},{key:"selectAttribute",value:function(e){console.log(e),this.geometry.attributes.selected.array.fill(0);var t=this.vertexKeyMapping[e];void 0!==t&&(this.geometry.attributes.selected.array[t]=1),this.geometry.attributes.selected.needsUpdate=!0}},{key:"getAttributeProperties",value:function(e){return[{key:"key",value:e},{key:"data",value:"vertexdata",data:this.data.value.vertex[e]}]}}]),r}(x()(l.Points,w));function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(m.a)(e);if(t){var o=Object(m.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(h.a)(this,r)}}var S=function(e){Object(d.a)(r,e);var t=P(r);function r(data,e){var n;return Object(f.a)(this,r),(n=t.call(this)).type=data.dtype,n.guid=data.guid,n.name=data.value.name,n.data=data,n.settings=e,n.setupAttributes(),n.calculateRaycastThreshold(),n}return Object(v.a)(r,[{key:"setupAttributes",value:function(){this.faces=new _(this.data,this.settings),this.edges=new V(this.data,this.settings),this.vertices=new A(this.data,this.settings),this.add(this.faces),this.add(this.edges),this.add(this.vertices)}},{key:"calculateRaycastThreshold",value:function(){var e=this;this.raycastThreshold=.01,this.children.forEach((function(t){t.raycastThreshold&&(e.raycastThreshold=t.raycastThreshold)}))}},{key:"updateFromSettings",value:function(){var e=this.settings;e["color.faces"]&&this.faces.setColor(e["color.faces"].value.red,e["color.faces"].value.green,e["color.faces"].value.blue),e["color.edges"]&&this.edges.setColor(e["color.edges"].value.red,e["color.edges"].value.green,e["color.edges"].value.blue),e["color.vertices"]&&this.vertices.setColor(e["color.vertices"].value.red,e["color.vertices"].value.green,e["color.vertices"].value.blue)}}]),r}(l.Group);function R(content){Array.isArray(content)||(content=[content]),content.forEach((function(e){if("compas.datastructures/Mesh"===e.data.dtype){var t=new S(e.data,e.settings);three.objectsGroup.add(t)}}))}var E=r(135),T=r.n(E);function M(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var D={name:"File",computed:F(F(F({},Object(c.d)(["showController"])),Object(c.d)("repo",["tags","files"])),{},{tagNames:function(){return this.tags.map((function(e){return e.name}))},fileNames:function(){return this.files.map((function(e){return e.name}))}}),data:function(){return{fileSource:"Examples",fileLoading:!1,fileExample:"viewobjects.json",fileInput:null,fileURL:"",animations:[],repoOwner:"BlockResearchGroup",repoName:"Phoenix",pat:localStorage.getItem("pat"),folder:"data",tag:"",file:""}},methods:F(F(F({},Object(c.b)("repo",["getTags","getFiles","getFile"])),Object(c.b)("scene",["updateTree"])),{},{load:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,content,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,e.fileLoading=!0,t.t0=e.fileSource,t.next="URL"===t.t0?5:"Local"===t.t0?11:"Examples"===t.t0?20:"Repo"===t.t0?27:32;break;case 5:return r=e.fileURL,n=r.toLowerCase().split(".").pop(),t.next=9,e.fetch_file(r,n);case 9:return content=t.sent,t.abrupt("break",32);case 11:return o=function(e){return new Promise((function(t,r){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return r(e)}}))},t.next=14,o(e.fileInput);case 14:return r=t.sent,n=e.fileInput.name.toLowerCase().split(".").pop(),t.next=18,e.fetch_file(r,n);case 18:return content=t.sent,t.abrupt("break",32);case 20:return r=e.fileExample,window.location.host.includes("localhost")||(r="/COMPAS-WebView/"+r),n=r.toLowerCase().split(".").pop(),t.next=25,e.fetch_file(r,n);case 25:return content=t.sent,t.abrupt("break",32);case 27:return n=e.file.toLowerCase().split(".").pop(),t.next=30,e.getFile({owner:e.repoOwner,repo:e.repoName,pat:e.pat,path:e.folder+"/"+e.file,ref:e.tag});case 30:return content=t.sent,t.abrupt("break",32);case 32:t.t1=n,t.next="gltf"===t.t1||"glb"===t.t1?35:"json"===t.t1?42:46;break;case 35:return t.next=37,three.loader.parseAsync(content,"/");case 37:return c=t.sent,three.objectsGroup.add(c.scene),three.mixer=new l.AnimationMixer(c.scene),three.animations=c.animations.map((function(e){return{name:e.name,action:three.mixer.clipAction(e)}})),t.abrupt("break",47);case 42:return console.log("json",content),R(content),three.adaptAttributesColorToTheme(e.$vuetify.theme.dark),t.abrupt("break",47);case 46:throw new Error("Unsupported file type");case 47:three.controls.fitToSphere(three.objectsGroup,!0),t.next=55;break;case 50:t.prev=50,t.t2=t.catch(0),console.error(t.t2),e.fileLoading=!1,alert(t.t2);case 55:e.updateTree(),e.fileLoading=!1;case 57:case"end":return t.stop()}}),t,null,[[0,50]])})))()},fetch_file:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("json"!==t){r.next=6;break}return r.next=3,T.a.get(e);case 3:case 8:return r.abrupt("return",r.sent.data);case 6:return r.next=8,T.a.get(e,{responseType:"arraybuffer"});case 9:case"end":return r.stop()}}),r)})))()},fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getTags({owner:e.repoOwner,repo:e.repoName,pat:e.pat});case 2:case"end":return t.stop()}}),t)})))()}}),watch:{pat:function(e){localStorage.setItem("pat",e),this.fetch()},tag:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getFiles({owner:e.repoOwner,repo:e.repoName,pat:e.pat,path:e.folder,ref:e.tag});case 2:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.repoName&&e.repoOwner&&e.pat&&e.fetch();case 1:case"end":return t.stop()}}),t)})))()}},L=r(50),N=r(47),G=r.n(N),I=r(321),z=r(674),B=r(675),U=r(303),K=r(190),$=r(87),H=r(676),W=r(677),Y=r(678),Z=r(246),J=r(113),component=Object(L.a)(D,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",[r("v-list-item",[r("v-list-item-content",[r("v-radio-group",{model:{value:e.fileSource,callback:function(t){e.fileSource=t},expression:"fileSource"}},[r("v-radio",{attrs:{value:"Repo",label:"Repo"}}),e._v(" "),r("v-radio",{attrs:{value:"Local",label:"Local"}}),e._v(" "),r("v-radio",{attrs:{value:"URL",label:"URL"}}),e._v(" "),r("v-radio",{attrs:{value:"Examples",label:"Examples"}})],1)],1)],1),e._v(" "),"Examples"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-select",{attrs:{label:"Examples",items:["DamagedHelmet.gltf","DragonAttenuation.glb","InterpolationTest.glb","tubemesh.json","viewobjects.json"]},model:{value:e.fileExample,callback:function(t){e.fileExample=t},expression:"fileExample"}})],1)],1):e._e(),e._v(" "),"Repo"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-row",[r("v-col",[r("v-text-field",{attrs:{label:"Owner"},model:{value:e.repoOwner,callback:function(t){e.repoOwner=t},expression:"repoOwner"}}),e._v(" "),r("v-text-field",{attrs:{label:"Repo"},model:{value:e.repoName,callback:function(t){e.repoName=t},expression:"repoName"}}),e._v(" "),r("v-text-field",{attrs:{label:"PAT"},model:{value:e.pat,callback:function(t){e.pat=t},expression:"pat"}}),e._v(" "),e.pat?r("v-text-field",{attrs:{label:"Folder"},model:{value:e.folder,callback:function(t){e.folder=t},expression:"folder"}}):e._e(),e._v(" "),e.pat?r("v-select",{attrs:{label:"Version",items:e.tagNames},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}}):e._e(),e._v(" "),e.tag?r("v-select",{attrs:{label:"File",items:e.fileNames},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}}):e._e()],1)],1)],1)],1):e._e(),e._v(" "),"Local"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-file-input",{attrs:{"truncate-length":"15",label:"Local File"},model:{value:e.fileInput,callback:function(t){e.fileInput=t},expression:"fileInput"}})],1)],1):e._e(),e._v(" "),"URL"===e.fileSource?r("v-list-item",[r("v-list-item-content",[r("v-text-field",{attrs:{label:"URL"},model:{value:e.fileURL,callback:function(t){e.fileURL=t},expression:"fileURL"}})],1)],1):e._e(),e._v(" "),r("v-list-item",[r("v-list-item-content",[r("v-btn",{attrs:{loading:e.fileLoading},on:{click:e.load}},[e._v("Load")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;G()(component,{VBtn:I.a,VCol:z.a,VFileInput:B.a,VList:U.a,VListItem:K.a,VListItemContent:$.a,VRadio:H.a,VRadioGroup:W.a,VRow:Y.a,VSelect:Z.a,VTextField:J.a})},313:function(e,t,r){"use strict";r.r(t);r(7),r(10),r(8),r(3),r(11),r(6),r(12);var n=r(1),o=r(37),c=r(312),l=r(314),f=r(316),v=r(317),d=r(318);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var m={name:"Controller",components:{File:c.default,Scene:l.default,Animation:v.default,Environment:f.default,Camera:d.default},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(o.d)(["showController"])),data:function(){return{tab:null}},methods:{}},y=m,w=(r(601),r(50)),O=r(47),x=r.n(O),j=r(242),_=r(689),k=r(681),V=r(690),C=r(685),A=r(409),component=Object(w.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-navigation-drawer",{attrs:{value:e.showController,right:"",app:"",fixed:"",width:"500"}},[r("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab",{key:"File"},[r("v-icon",[e._v("mdi-folder")])],1),e._v(" "),r("v-tab",{key:"Scene"},[r("v-icon",[e._v("mdi-file-tree")])],1),e._v(" "),r("v-tab",{key:"Camera"},[r("v-icon",[e._v("mdi-camera")])],1),e._v(" "),r("v-tab",{key:"Environment"},[r("v-icon",[e._v("mdi-earth")])],1),e._v(" "),r("v-tab",{key:"Animation"},[r("v-icon",[e._v("mdi-motion-play")])],1)],1),e._v(" "),r("v-tabs-items",{staticClass:"full-height-tab",model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[r("v-tab-item",{key:"File"},[r("File")],1),e._v(" "),r("v-tab-item",{key:"Scene"},[r("Scene")],1),e._v(" "),r("v-tab-item",{key:"Camera"},[r("Camera")],1),e._v(" "),r("v-tab-item",{key:"Environment"},[r("Environment")],1),e._v(" "),r("v-tab-item",{key:"Animation"},[r("Animation")],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;x()(component,{File:r(312).default,Scene:r(314).default,Camera:r(318).default,Environment:r(316).default,Animation:r(317).default}),x()(component,{VIcon:j.a,VNavigationDrawer:_.a,VTab:k.a,VTabItem:V.a,VTabs:C.a,VTabsItems:A.a})},314:function(e,t,r){"use strict";r.r(t);r(7),r(10),r(8),r(3),r(11),r(6),r(12),r(48),r(62),r(55),r(31),r(70),r(71),r(60);var n=r(27),o=r(23),c=r(1),l=(r(30),r(67),r(103),r(37));function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"Scene",components:{Property:r(315).default},computed:h(h({},Object(l.d)("scene",["mode","attributeMode","tree","selected","attributesVisibility"])),{},{halfHeight:function(){return(document.body.clientHeight-48)/2}}),watch:{selected:function(){this.highlight()}},data:function(){return{opened:[],icons:{Group:"mdi-folder-multiple",Mesh:"mdi-vector-triangle",PerspectiveCamera:"mdi-camera",PointLight:"mdi-lightbulb",AmbientLight:"mdi-lightbulb",AxesHelper:"mdi-axis",GridHelper:"mdi-axis",LineSegments:"mdi-vector-line",Points:"mdi-square-medium-outline"}}},mounted:function(){this.updateTree()},methods:h(h({},Object(l.b)("scene",["select","updateTree","toggleVisibility","toggleAttributesVisibility","getObject","removeObject","startEditAttributes","exitEditAttributes","switchAttributeMode"])),{},{highlight:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var path;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.selected){t.next=6;break}return t.next=3,e.findPath(e.selected);case 3:path=t.sent,e.opened=path,e.scrollTo(e.selected);case 6:case"end":return t.stop()}}),t)})))()},remove:function(e){confirm("Are you sure you want to delete ".concat(e.name,"?"))&&this.removeObject(e.id)},findPath:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={},function t(r,path){if(void 0===path&&(path=[]),!o.found)if(path=Object(n.a)(path),r.id===e)o.found=path;else if(r.children){path.push(r.id);var c,l=f(r.children);try{for(l.s();!(c=l.n()).done;){t(c.value,path)}}catch(e){l.e(e)}finally{l.f()}}}({children:t.tree}),r.abrupt("return",o.found);case 4:case"end":return r.stop()}}),r)})))()},focus:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getObject(e.id);case 2:n=r.sent,three.focus(n);case 4:case"end":return r.stop()}}),r)})))()},scrollTo:function(e){var t=this;setTimeout((function(){var label=t.$refs["label_".concat(e)];label&&label.scrollIntoView({behavior:"smooth",block:"nearest",inline:"nearest"})}),200)}})},y=(r(573),r(50)),w=r(47),O=r.n(w),x=r(321),j=r(307),_=r(92),k=r(688),V=r(306),C=r(242),A=r(676),P=r(677),S=r(678),R=r(679),E=r(687),component=Object(y.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-card",{attrs:{outlined:""}},[r("v-card-title",[r("v-row",{staticClass:"ma-1"},[e._v("\n        "+e._s(e.mode)+"\n        "),r("v-spacer"),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.attributesVisibility.vertices?"primary":null},on:{click:function(t){return e.toggleAttributesVisibility("vertices")}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-square-medium-outline ")])],1),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.attributesVisibility.edges?"primary":null},on:{click:function(t){return e.toggleAttributesVisibility("edges")}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-vector-line ")])],1),e._v(" "),r("v-btn",{staticClass:"ml-1 pa-2",attrs:{small:"",outlined:"","min-width":"0",color:e.attributesVisibility.faces?"primary":null},on:{click:function(t){return e.toggleAttributesVisibility("faces")}}},[r("v-icon",{attrs:{small:""}},[e._v(" mdi-vector-triangle ")])],1)],1)],1),e._v(" "),r("v-card",{staticClass:"scroll",attrs:{height:e.halfHeight,flat:""}},[r("v-treeview",{attrs:{items:e.tree,dense:"",hoverable:"",active:[e.selected],open:e.opened},scopedSlots:e._u([{key:"prepend",fn:function(t){var n=t.item;return[r("v-icon",[e._v("\n            "+e._s(e.icons[n.type])+"\n          ")])]}},{key:"label",fn:function(t){var n=t.item;return[r("span",{ref:"label_"+n.id,staticClass:"pointer",on:{click:function(t){return e.select({id:n.id})}}},[e._v("\n            "+e._s(n.name)+"\n          ")])]}},{key:"append",fn:function(t){var n=t.item;return["Scene"===e.mode?r("v-icon",{on:{click:function(t){return e.toggleVisibility(n.id)}}},[e._v("\n            "+e._s(n.visible?"mdi-eye":"mdi-eye-off")+"\n          ")]):e._e(),e._v(" "),"Scene"===e.mode?r("v-icon",{on:{click:function(t){return e.remove(n)}}},[e._v("\n            mdi-delete\n          ")]):e._e(),e._v(" "),"Scene"===e.mode?r("v-icon",{on:{click:function(t){return t.preventDefault(),e.focus(n)}}},[e._v("\n            mdi-crosshairs\n          ")]):e._e(),e._v(" "),"Scene"===e.mode&&"compas.datastructures/Mesh"===n.type?r("v-icon",{on:{click:function(t){return e.startEditAttributes(n.id)}}},[e._v("\n            mdi-graph\n          ")]):e._e()]}}])})],1)],1),e._v(" "),"Attributes"===e.mode?r("div",[r("v-radio-group",{attrs:{value:e.attributeMode},on:{change:e.switchAttributeMode}},[r("v-radio",{attrs:{value:"vertices",label:"vertices"}}),e._v(" "),r("v-radio",{attrs:{value:"edges",label:"edges"}}),e._v(" "),r("v-radio",{attrs:{value:"faces",label:"faces"}})],1),e._v(" "),r("v-btn",{staticClass:"my-2",on:{click:e.exitEditAttributes}},[e._v("Exit Edit Attributes")])],1):e._e(),e._v(" "),r("v-divider",{staticClass:"my-5"}),e._v(" "),r("Property")],1)}),[],!1,null,"7b6d8975",null);t.default=component.exports;O()(component,{Property:r(315).default}),O()(component,{VBtn:x.a,VCard:j.a,VCardTitle:_.b,VContainer:k.a,VDivider:V.a,VIcon:C.a,VRadio:A.a,VRadioGroup:P.a,VRow:S.a,VSpacer:R.a,VTreeview:E.a})},315:function(e,t,r){"use strict";r.r(t);r(7),r(10),r(8),r(3),r(11),r(6),r(12);var n=r(1),o=r(37);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"Property",data:function(){return{headers:[{text:"Key",value:"key"},{text:"Value",value:"value"}]}},computed:Object(o.d)("property",["properties","id"]),methods:l(l({},Object(o.b)("data",["showData"])),Object(o.b)("settings",["showSettings"]))},v=(r(561),r(50)),d=r(47),h=r.n(d),m=r(307),y=r(92),w=r(683),O=r(242),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{outlined:""}},[r("v-card-title",[e._v("Property")]),e._v(" "),r("v-data-table",{attrs:{headers:e.headers,items:e.properties,"hide-default-header":!0,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.value",fn:function(t){var n=t.item;return[r("span",[e._v("\n        "+e._s(n.value)+"\n      ")]),e._v(" "),n.data?r("v-icon",{on:{click:function(t){return e.showData(n.data)}}},[e._v("mdi-database-eye\n      ")]):e._e(),e._v(" "),"settings"===n.key?r("v-icon",{on:{click:function(t){return e.showSettings(e.id)}}},[e._v("mdi-cog\n      ")]):e._e()]}}])})],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VCard:m.a,VCardTitle:y.b,VDataTable:w.a,VIcon:O.a})},316:function(e,t,r){"use strict";r.r(t);r(7),r(10),r(8),r(3),r(11),r(6),r(12);var n=r(1),o=r(22),c=r(37);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"Environment",data:function(){return{useHdri:!1,upAxis:"Z",viewMode:"Normal",backgroundColor:15658734,activated:[],gimbal:!1,grid:!0}},watch:{upAxis:function(e){"Y"===e?(three.camera.up.set(0,1,0),three.controls.updateCameraUp()):(three.camera.up.set(0,0,1),three.controls.updateCameraUp())},backgroundColor:function(e){var t=1973790===e;three.scene.background.setHex(e),this.$vuetify.theme.dark=t,three.adaptAttributesColorToTheme(t)},viewMode:function(e){this.enableGhostedView("Ghosted"===e||"GhostedWireframe"===e);this.showAttributes({Normal:["faces"],Ghosted:["faces"],Wireframe:["edges"],NormalWireframe:["edges","faces"],GhostedWireframe:["edges","faces"]}[e])},gimbal:function(e){e?(three.enableTransformControls=!0,three.selected&&three.attachGimbal(three.selected)):(three.enableTransformControls=!1,three.transformControls.detach())},grid:function(e){three.grid.visible=three.axes.visible=!!e}},methods:f(f({},Object(c.b)("scene",["showAttributes","enableGhostedView"])),{},{showHdri:function(){this.useHdri?(three.scene.background=three.hdri,three.scene.environment=three.hdri):(three.scene.background=new o.Color(1973790),three.scene.environment=null)}})},d=r(50),h=r(47),m=r.n(h),y=r(674),w=r(688),O=r(676),x=r(677),j=r(678),_=r(680),component=Object(d.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-5"},[r("v-row",[r("v-col",[r("v-radio-group",{attrs:{label:"Theme"},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}},[r("v-radio",{attrs:{label:"Dark",value:1973790}}),e._v(" "),r("v-radio",{attrs:{label:"Light",value:15658734}})],1)],1),e._v(" "),r("v-col",[r("v-radio-group",{attrs:{label:"Up Axis"},model:{value:e.upAxis,callback:function(t){e.upAxis=t},expression:"upAxis"}},[r("v-radio",{attrs:{label:"Y",value:"Y"}}),e._v(" "),r("v-radio",{attrs:{label:"Z",value:"Z"}})],1)],1),e._v(" "),r("v-col",[r("v-radio-group",{attrs:{label:"View Mode"},model:{value:e.viewMode,callback:function(t){e.viewMode=t},expression:"viewMode"}},[r("v-radio",{attrs:{label:"Normal",value:"Normal"}}),e._v(" "),r("v-radio",{attrs:{label:"Ghosted",value:"Ghosted"}}),e._v(" "),r("v-radio",{attrs:{label:"Wireframe",value:"Wireframe"}}),e._v(" "),r("v-radio",{attrs:{label:"Normal+Wireframe",value:"NormalWireframe"}}),e._v(" "),r("v-radio",{attrs:{label:"Ghosted+Wireframe",value:"GhostedWireframe"}})],1)],1)],1),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-switch",{attrs:{label:"Grid"},model:{value:e.grid,callback:function(t){e.grid=t},expression:"grid"}}),e._v(" "),r("v-switch",{attrs:{label:"Gimbal"},model:{value:e.gimbal,callback:function(t){e.gimbal=t},expression:"gimbal"}})],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;m()(component,{VCol:y.a,VContainer:w.a,VRadio:O.a,VRadioGroup:x.a,VRow:j.a,VSwitch:_.a})},317:function(e,t,r){"use strict";r.r(t);var n={name:"Animation",computed:{animations:function(){return window.three&&window.three.animations?window.three.animations:[]}}},o=r(50),c=r(47),l=r.n(c),f=r(242),v=r(303),d=r(190),h=r(87),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-list",[0==e.animations.length?r("v-list-item",[r("v-list-item-content",[e._v(" No animations available. ")])],1):e._e(),e._v(" "),e._l(e.animations,(function(t,i){return r("v-list-item",{key:i},[r("v-list-item-content",[r("v-list-item-title",[e._v(e._s(t.name))]),e._v(" "),r("div",[r("v-icon",{attrs:{color:"green"},on:{click:function(e){return t.action.play()}}},[e._v("mdi-play")]),e._v(" "),r("v-icon",{attrs:{color:"red"},on:{click:function(e){return t.action.stop()}}},[e._v("mdi-stop")])],1)],1)],1)}))],2)}),[],!1,null,null,null);t.default=component.exports;l()(component,{VIcon:f.a,VList:v.a,VListItem:d.a,VListItemContent:h.a,VListItemTitle:h.b})},318:function(e,t,r){"use strict";r.r(t);r(24),r(300);var n=r(22),o=r(234),c={name:"Camera",data:function(){return{cameraType:"Perspective",fov:null,position:new n.Vector3,target:new n.Vector3}},mounted:function(){this.fov=three.perspectiveCamera.fov,this.trackCamera()},watch:{fov:function(e){three.perspectiveCamera.fov=e,three.perspectiveCamera.updateProjectionMatrix()}},methods:{switchCamera:function(e,t){e!==this.cameraType&&("Perspective"===e?three.camera=three.perspectiveCamera:"Orthographic"===e&&(three.camera=three.orthographicCamera),three.camera.add(three.pointLight),three.renderPass.camera=three.camera,three.outlinePass.renderCamera=three.camera,three.controls.dispose(),three.controls=new o.a(three.camera,three.renderer.domElement),this.trackCamera(),this.cameraType=e),three.objectsGroup.children.length&&three.controls.fitToSphere(three.objectsGroup),three.controls.mouseButtons.left=t?o.a.ACTION.NONE:o.a.ACTION.ROTATE},trackCamera:function(){this.getPosition(),this.getTarget(),three.controls.addEventListener("update",this.getPosition),three.controls.addEventListener("update",this.getTarget)},getPosition:function(){three.controls.getPosition(this.position),this.position.x=Number(this.position.x.toFixed(3)),this.position.y=Number(this.position.y.toFixed(3)),this.position.z=Number(this.position.z.toFixed(3))},setPosition:function(){three.controls.setPosition(Number(this.position.x),Number(this.position.y),Number(this.position.z))},getTarget:function(){three.controls.getTarget(this.target),this.target.x=Number(this.target.x.toFixed(3)),this.target.y=Number(this.target.y.toFixed(3)),this.target.z=Number(this.target.z.toFixed(3))},setTarget:function(){three.controls.setLookAt(Number(this.position.x),Number(this.position.y),Number(this.position.z),Number(this.target.x),Number(this.target.y),Number(this.target.z))},setView:function(view){console.log(view);var e=new n.Box3;e.setFromObject(three.objectsGroup),e.getCenter(this.target);var t=new n.Vector3;switch(three.objectsGroup.children.length>0?e.getSize(t):t.set(2,2,2),view){case"top":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y,this.target.z+t.z);break;case"bottom":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y,this.target.z-t.z);break;case"front":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y+t.y,this.target.z);break;case"back":this.switchCamera("Orthographic",!0),this.position.set(this.target.x,this.target.y-t.y,this.target.z);break;case"left":this.switchCamera("Orthographic",!0),this.position.set(this.target.x-t.x,this.target.y,this.target.z);break;case"right":this.switchCamera("Orthographic",!0),this.position.set(this.target.x+t.x,this.target.y,this.target.z);break;case"perspective":this.switchCamera("Perspective")}this.setTarget()}}},l=r(50),f=r(47),v=r.n(f),d=r(321),h=r(674),m=r(688),y=r(676),w=r(677),O=r(678),x=r(401),j=r(113),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"pa-5"},[r("v-radio-group",{attrs:{value:e.cameraType,label:"Camera Type"},on:{change:e.switchCamera}},[r("v-radio",{attrs:{label:"Perspective",value:"Perspective"}}),e._v(" "),r("v-radio",{attrs:{label:"Orthographic",value:"Orthographic"}})],1),e._v(" "),"Perspective"===e.cameraType?r("v-slider",{attrs:{label:"FOV",max:"180",min:"1","thumb-label":""},model:{value:e.fov,callback:function(t){e.fov=t},expression:"fov"}}):e._e(),e._v(" "),r("span",[e._v("Position")]),e._v(" "),r("v-row",[r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"x",outlined:""},on:{change:e.setPosition},model:{value:e.position.x,callback:function(t){e.$set(e.position,"x",t)},expression:"position.x"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"y",outlined:""},on:{change:e.setPosition},model:{value:e.position.y,callback:function(t){e.$set(e.position,"y",t)},expression:"position.y"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"z",outlined:""},on:{change:e.setPosition},model:{value:e.position.z,callback:function(t){e.$set(e.position,"z",t)},expression:"position.z"}})],1)],1),e._v(" "),r("span",[e._v("Target")]),e._v(" "),r("v-row",[r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"x",outlined:""},on:{change:e.setTarget},model:{value:e.target.x,callback:function(t){e.$set(e.target,"x",t)},expression:"target.x"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"y",outlined:""},on:{change:e.setTarget},model:{value:e.target.y,callback:function(t){e.$set(e.target,"y",t)},expression:"target.y"}})],1),e._v(" "),r("v-col",[r("v-text-field",{attrs:{dense:"",type:"number",prefix:"z",outlined:""},on:{change:e.setTarget},model:{value:e.target.z,callback:function(t){e.$set(e.target,"z",t)},expression:"target.z"}})],1)],1),e._v(" "),r("v-row",[r("v-col",[e._v("\n      Views\n      "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("top")}}},[e._v("Top")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("bottom")}}},[e._v("Bottom")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("front")}}},[e._v("Front")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("back")}}},[e._v("Back")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("left")}}},[e._v("Left")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("right")}}},[e._v("Right")]),e._v(" "),r("v-btn",{staticClass:"my-1",attrs:{block:"",outlined:""},on:{click:function(t){return e.setView("perspective")}}},[e._v("Perspective")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:d.a,VCol:h.a,VContainer:m.a,VRadio:y.a,VRadioGroup:w.a,VRow:O.a,VSlider:x.a,VTextField:j.a})},319:function(e,t,r){"use strict";r.r(t);var n=r(37),o={name:"DataForm",computed:Object(n.d)("data",["dataView","show"]),methods:Object(n.b)("data",["hideData"])},c=(r(618),r(50)),l=r(47),f=r.n(l),v=r(321),d=r(307),h=r(308),m=r(687),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.show}},[r("v-card",{staticClass:"scroll",attrs:{light:"",flat:"","max-height":"800","min-height":"100","min-width":"500"}},[r("v-treeview",{attrs:{items:e.dataView}})],1),e._v(" "),r("v-btn",{staticClass:"mt-5",attrs:{light:""},on:{click:e.hideData}},[e._v("close")])],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:v.a,VCard:d.a,VOverlay:h.a,VTreeview:m.a})},320:function(e,t,r){"use strict";r.r(t);r(7),r(10),r(8),r(3),r(11),r(6),r(12);var n=r(1),o=r(37);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={name:"SettingsForm",computed:Object(o.d)("settings",["settingsView","id","show","editingColorKey"]),data:function(){return{headers:[{text:"Key",value:"key"},{text:"Value",value:"value"}],settings:{},editingColorValue:null}},methods:l(l({},Object(o.b)("settings",["hideSettings","applyColor"])),Object(o.c)("settings",["setEditingColorKey"]))},v=(r(620),r(50)),d=r(47),h=r.n(d),m=r(321),y=r(307),w=r(92),O=r(684),x=r(683),j=r(308),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-overlay",{attrs:{value:e.show}},[r("v-card",{attrs:{"min-width":"500"}},[r("v-card-title",[e._v("Settings")]),e._v(" "),r("v-data-table",{attrs:{headers:e.headers,items:e.settingsView,"hide-default-header":!0,"hide-default-footer":!0},scopedSlots:e._u([{key:"item.value",fn:function(t){var n=t.item;return[r("span",[e._v("\n          "+e._s(n.value)+"\n        ")]),e._v(" "),n.color?r("v-btn",{attrs:{color:n.color},on:{click:function(t){return e.setEditingColorKey(n.key)}}}):e._e(),e._v(" "),e.editingColorKey===n.key?r("v-card",{staticClass:"my-2"},[r("v-color-picker",{attrs:{"dot-size":"19","swatches-max-height":"200"},model:{value:e.editingColorValue,callback:function(t){e.editingColorValue=t},expression:"editingColorValue"}}),e._v(" "),r("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.applyColor(e.editingColorValue)}}},[e._v("Apply")]),e._v(" "),r("v-btn",{on:{click:function(t){return e.setEditingColorKey(null)}}},[e._v("Cancel")])],1):e._e()]}}])}),e._v(" "),r("v-card-actions",[r("v-btn",{on:{click:e.hideSettings}},[e._v("Close")])],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{VBtn:m.a,VCard:y.a,VCardActions:w.a,VCardTitle:w.b,VColorPicker:O.a,VDataTable:x.a,VOverlay:j.a})},360:function(e,t,r){var content=r(459);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("dc093880",content,!0,{sourceMap:!1})},390:function(e,t,r){var content=r(562);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("6da3b560",content,!0,{sourceMap:!1})},391:function(e,t,r){var content=r(574);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("3342eaa1",content,!0,{sourceMap:!1})},393:function(e,t,r){var content=r(602);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("ef9be580",content,!0,{sourceMap:!1})},394:function(e,t,r){var content=r(619);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("8a071b80",content,!0,{sourceMap:!1})},395:function(e,t,r){var content=r(621);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("308ebe20",content,!0,{sourceMap:!1})},408:function(e,t,r){"use strict";r(7),r(10),r(8),r(3),r(11),r(6),r(12);var n=r(1),o=r(313),c=r(37),l=r(319),f=r(320);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var d={name:"DefaultLayout",components:{Controller:o.default,DataForm:l.default,SettingsForm:f.default},computed:Object(c.d)(["showController"]),data:function(){return{clipped:!1,drawer:!1,fixed:!1,items:[{icon:"mdi-apps",title:"Welcome",to:"/"},{icon:"mdi-chart-bubble",title:"Inspire",to:"/inspire"}],miniVariant:!1,title:"COMPAS WebView"}},methods:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(c.b)(["toggleController"]))},h=d,m=r(50),y=r(47),w=r.n(y),O=r(673),x=r(686),j=r(321),_=r(242),k=r(682),V=r(679),C=r(402),component=Object(m.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",{attrs:{dark:""}},[r("v-app-bar",{attrs:{fixed:"",app:""}},[r("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.toggleController.apply(null,arguments)}}},[r("v-icon",[e._v("mdi-menu")])],1)],1),e._v(" "),r("v-main",[r("Nuxt")],1),e._v(" "),r("Controller"),e._v(" "),r("DataForm"),e._v(" "),r("SettingsForm")],1)}),[],!1,null,null,null);t.a=component.exports;w()(component,{Controller:r(313).default,DataForm:r(319).default,SettingsForm:r(320).default}),w()(component,{VApp:O.a,VAppBar:x.a,VBtn:j.a,VIcon:_.a,VMain:k.a,VSpacer:V.a,VToolbarTitle:C.a})},414:function(e,t,r){r(415),e.exports=r(416)},458:function(e,t,r){"use strict";r(360)},459:function(e,t,r){var n=r(14)(!1);n.push([e.i,"h1[data-v-35e10596]{font-size:20px}",""]),e.exports=n},561:function(e,t,r){"use strict";r(390)},562:function(e,t,r){var n=r(14)(!1);n.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=n},573:function(e,t,r){"use strict";r(391)},574:function(e,t,r){var n=r(14)(!1);n.push([e.i,".pointer[data-v-7b6d8975]{cursor:pointer}.scroll[data-v-7b6d8975]{overflow-y:scroll}",""]),e.exports=n},601:function(e,t,r){"use strict";r(393)},602:function(e,t,r){var n=r(14)(!1);n.push([e.i,".v-tabs-items.full-height-tab .v-window-item{height:calc(100vh - 48px);overflow-y:auto}",""]),e.exports=n},618:function(e,t,r){"use strict";r(394)},619:function(e,t,r){var n=r(14)(!1);n.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=n},620:function(e,t,r){"use strict";r(395)},621:function(e,t,r){var n=r(14)(!1);n.push([e.i,".scroll{overflow-y:scroll}.v-data-table__wrapper>table>tbody>tr:hover{background:inherit!important}",""]),e.exports=n},638:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c}));var n=function(){return{showController:!0}},o={setShowController:function(e,t){e.showController=t}},c={toggleController:function(e){var t=e.state;(0,e.commit)("setShowController",!t.showController),console.log(t.showController)}}},639:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return f}));var n=r(25),o=r(21),c=(r(158),r(29),function(){return{show:!1,dataView:[]}}),l={setShow:function(e,t){e.show=t},setDataView:function(e,t){e.dataView=t}},f={showData:function(e,data){var t=e.commit,r=0;t("setShow",!0),t("setDataView",function e(data){for(var t=[],c=0,l=Object.entries(data);c<l.length;c++){var f=Object(o.a)(l[c],2),v=f[0],d=f[1];Array.isArray(d)?t.push({id:r++,name:"".concat(v," : []"),children:e(d)}):"object"===Object(n.a)(d)&&d?t.push({id:r++,name:"".concat(v," : {}"),children:e(d)}):t.push({id:r++,name:"".concat(v," : ").concat(d)})}return t}(data))},hideData:function(e){(0,e.commit)("setShow",!1)}}},640:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return n})),r.d(t,"mutations",(function(){return o})),r.d(t,"actions",(function(){return c}));var n=function(){return{id:null,properties:[]}},o={setId:function(e,t){e.id=t},setProperties:function(e,t){e.properties=t}},c={showProperties:function(e,t){var r=e.commit,n=t.id,o=t.properties;r("setId",n||null),r("setProperties",o||[])}}},641:function(e,t,r){"use strict";r.r(t),function(e){r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return f}));var n=r(23),o=(r(3),r(72),r(103),r(249)),c=function(){return{tags:[],files:[]}},l={setTags:function(e,t){e.tags=t},setFiles:function(e,t){e.files=t}},f={getTags:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,f,v,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,c=t.owner,l=t.repo,f=t.pat,v=new o.a({auth:f}),r.next=5,v.request("GET /repos/{owner}/{repo}/tags",{owner:c,repo:l});case 5:d=r.sent,n("setTags",d.data),console.log(d);case 8:case"end":return r.stop()}}),r)})))()},getFiles:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,c,l,f,path,v,d,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,c=t.owner,l=t.repo,f=t.pat,path=t.path,v=t.ref,d=new o.a({auth:f}),r.next=5,d.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:c,repo:l,path:path,ref:v});case 5:h=r.sent,n("setFiles",h.data),console.log(h);case 8:case"end":return r.stop()}}),r)})))()},getFile:function(t,r){return Object(n.a)(regeneratorRuntime.mark((function n(){var c,l,f,path,v,d,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.commit,c=r.owner,l=r.repo,f=r.pat,path=r.path,v=r.ref,d=new o.a({auth:f}),n.next=5,d.request("GET /repos/{owner}/{repo}/contents/{path}",{owner:c,repo:l,path:path,ref:v});case 5:return h=n.sent,console.log(h),n.abrupt("return",e.from(h.data.content,"base64").toString("utf8"));case 8:case"end":return n.stop()}}),n)})))()}}}.call(this,r(396).Buffer)},655:function(e,t){},656:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return f})),r.d(t,"mutations",(function(){return v})),r.d(t,"actions",(function(){return d}));r(7),r(10),r(8),r(11),r(12);var n=r(1),o=r(23);r(103),r(30),r(31),r(85),r(43),r(36),r(63),r(3),r(6);function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=function(){return{mode:"Scene",attributeMode:"vertices",tree:[],selected:null,attributesVisibility:{vertices:!1,edges:!1,faces:!0},editingObj:null,activeAttributeObj:null}},v={setMode:function(e,t){e.mode=t},setAttributeMode:function(e,t){e.attributeMode=t},setTree:function(e,t){e.tree=t},setSelected:function(e,t){e.selected=t},setVisibility:function(e,t){var r=t.id,n=t.visible,o=function(e,t){var r={},n=function e(t,r,n){t.id==r?n.item=t:t.children&&t.children.forEach((function(t){e(t,r,n)}))};return n({children:e},t,r),r.item}(e.tree,r);o.visible=n},setAttributesVisibility:function(e,t){e.attributesVisibility=t},setEditingObj:function(e,t){e.editingObj=t},setActiveAttributeObj:function(e,t){e.activeAttributeObj=t}},d={select:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,f,v,d,h,m,y;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.commit,o=e.dispatch,c=e.state,l=t.id,f=t.attributeKey,"Scene"!==c.mode){r.next=14;break}return n("setSelected",l),r.next=6,o("getObject",l);case 6:return v=r.sent,three.select(v),d=[],v&&(d=[{key:"name",value:v.name},{key:"type",value:v.type}],v.guid&&d.push({key:"guid",value:v.guid}),v.settings&&d.push({key:"settings",value:"{...}"}),v.data&&d.push({key:"data",value:"{...}",data:v.data})),r.next=12,o("property/showProperties",{id:l,properties:d},{root:!0});case 12:r.next=33;break;case 14:if("string"!=typeof l){r.next=24;break}if(h=l.split(".")[0],!["vertices","edges","faces"].includes(h)){r.next=22;break}if(h===c.attributeMode){r.next=20;break}return r.next=20,o("switchAttributeMode",h);case 20:n("setSelected",l),f=l.split(".")[1];case 22:r.next=25;break;case 24:n("setSelected",null!=f?c.attributeMode+"."+f:null);case 25:return r.next=27,o("getActiveAttributeObj");case 27:return(m=r.sent)&&m.selectAttribute(f),y=[],f&&(y=m.getAttributeProperties(f)),r.next=33,o("property/showProperties",{properties:y},{root:!0});case 33:case"end":return r.stop()}}),r)})))()},updateTree:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.commit,n=e.state,o=e.dispatch,three){t.next=3;break}return t.abrupt("return");case 3:if(c=function e(t){return t.children.map((function(t){var r=[];return"Scene"===n.mode?r=e(t):"Attributes"===n.mode&&t.getAttributes&&(r=t.getAttributes(t)),{name:t.name||t.guid?t.name||t.guid:"(".concat(t.type,")"),id:t.id,guid:t.guid,type:t.type,visible:t.visible,children:r}}))},"Scene"!==n.mode){t.next=8;break}r("setTree",c(three.objectsGroup)),t.next=16;break;case 8:if("Attributes"!==n.mode){t.next=16;break}return t.t0=r,t.t1=c,t.next=13,o("getEditingObj");case 13:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)("setTree",t.t3);case 16:case"end":return t.stop()}}),t)})))()},toggleVisibility:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.commit,o=e.dispatch,three){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,o("getObject",t);case 5:(c=r.sent)&&(c.visible=!c.visible,n("setVisibility",{id:t,visible:c.visible}));case 7:case"end":return r.stop()}}),r)})))()},toggleAttributesVisibility:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,f,v;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=e.state,o=e.commit,c=e.dispatch,f=l({},n.attributesVisibility),v=f[t]=!f[t],o("setAttributesVisibility",f),three){r.next=6;break}return r.abrupt("return");case 6:return three.objectsGroup.traverse((function(e){e.isAttributes&&e.name===t&&(e.visible=v)})),r.next=9,c("updateTree");case 9:case"end":return r.stop()}}),r)})))()},showAttributes:function(e){var t=arguments;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c,f,v,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:for(d in n=e.state,o=e.commit,c=e.dispatch,f=t.length>1&&void 0!==t[1]?t[1]:[],v=l({},n.attributesVisibility))v[d]=f.includes(d);if(o("setAttributesVisibility",v),three){r.next=7;break}return r.abrupt("return");case 7:return three.objectsGroup.traverse((function(e){e.isAttributes&&(e.visible=v[e.name])})),r.next=10,c("updateTree");case 10:case"end":return r.stop()}}),r)})))()},removeObject:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,r.next=3,n("getObject",t);case 3:return(o=r.sent).parent.remove(o),r.next=7,n("updateTree");case 7:case"end":return r.stop()}}),r)})))()},getObject:function(e,t){if(three){var r=null;return three.scene.traverse((function(e){e.id==t&&(r=e)})),r}},enableGhostedView:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(three){e.next=2;break}return e.abrupt("return");case 2:three.objectsGroup.traverse((function(e){e.isAttributes&&(void 0===e.material._opacity&&(e.material._opacity=e.material.opacity),void 0===e.material._transparent&&(e.material._transparent=e.material.transparent),t?(e.material.transparent=!0,e.material.opacity=.3):(e.material.transparent=e.material._transparent,e.material.opacity=e.material._opacity))}));case 3:case"end":return e.stop()}}),e)})))()},startEditAttributes:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,o=e.commit,r.next=3,n("select",{});case 3:return o("setMode","Attributes"),o("setEditingObj",t),r.next=7,n("getEditingObj");case 7:return c=r.sent,three.focus(c),three.objectsGroup.traverse((function(e){e!==three.objectsGroup&&(e._visible=e.visible,e.visible=e===c)})),console.log("Editing attributes:",c),r.next=13,n("switchAttributeMode","vertices");case 13:return r.next=15,n("updateTree");case 15:return r.next=17,n("showAttributes",["vertices","edges","faces"]);case 17:case"end":return r.stop()}}),r)})))()},exitEditAttributes:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.dispatch,n=e.commit,t.next=3,r("select",{});case 3:return three.objectsGroup.traverse((function(e){e.visible=e._visible})),n("setMode","Scene"),n("setEditingObj",null),t.next=8,r("updateTree");case 8:return t.next=10,r("showAttributes",["faces"]);case 10:case"end":return t.stop()}}),t)})))()},switchAttributeMode:function(e,t){return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,c=e.state,n("setAttributeMode",t),r.next=4,o("getEditingObj");case 4:return r.sent.traverse((function(e){e.isAttributes&&(e.name===c.attributeMode?n("setActiveAttributeObj",e.id):e.selectAttribute(null))})),r.next=7,o("select",{});case 7:case"end":return r.stop()}}),r)})))()},getEditingObj:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state,n=e.dispatch,t.next=3,n("getObject",r.editingObj);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()},getActiveAttributeObj:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state,n=e.dispatch,t.next=3,n("getObject",r.activeAttributeObj);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))()}}},657:function(e,t,r){"use strict";r.r(t),r.d(t,"state",(function(){return c})),r.d(t,"mutations",(function(){return l})),r.d(t,"actions",(function(){return f}));var n=r(23),o=r(21),c=(r(103),r(158),r(29),function(){return{show:!1,id:null,settingsView:[],editingColorKey:null}}),l={setShow:function(e,t){e.show=t},setId:function(e,t){e.id=t},setSettingsView:function(e,t){e.settingsView=t},setEditingColorKey:function(e,t){e.editingColorKey=t}},f={mapSettings:function(e,t){for(var r=e.commit,n=[],c=0,l=Object.entries(t);c<l.length;c++){var f=Object(o.a)(l[c],2),v=f[0],d=f[1];"compas.colors/Color"===d.dtype?n.push({key:v,color:"rgb(".concat(255*d.value.red,", ").concat(255*d.value.green,", ").concat(255*d.value.blue,")")}):n.push({key:v,value:JSON.stringify(d)})}r("setSettingsView",n)},showSettings:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.commit,o=e.dispatch,n("setShow",!0),n("setId",t),r.next=5,o("scene/getObject",t,{root:!0});case 5:return c=r.sent,r.next=8,o("mapSettings",c.settings);case 8:case"end":return r.stop()}}),r)})))()},hideSettings:function(e){var t=e.commit;t("setShow",!1),t("setId",null),t("setSettingsView",[])},applyColor:function(e,t){return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,l,f;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.dispatch,o=e.state,c=e.commit,r.next=3,n("scene/getObject",o.id,{root:!0});case 3:return l=r.sent,(f=l.settings[o.editingColorKey].value).red=t.rgba.r/255,f.green=t.rgba.g/255,f.blue=t.rgba.b/255,l.updateFromSettings(),c("setEditingColorKey",null),r.next=12,n("mapSettings",l.settings);case 12:case"end":return r.stop()}}),r)})))()}}}},[[414,10,2,11]]]);